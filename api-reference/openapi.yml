openapi: 3.0.0
info:
  title: "StableStack: API Service"
  description: "# Overview\n\n##  Introduction\n\nStableStack offers an API first, last mile payment orchestration + liquidity router built with stablecoins. Stablecoin layer integrated into your existing payment flow, with smart accounts and blockchain abstraction. Go between digital and fiat currencies in minutes.\n\n## Getting Help\n\nWe're excited to have you build with us! If you're integrating, we will set up a communication channel. This will enable our teams to easily collaborate and ensure you launch as quickly as possible.\n\nPlease reach out to us at\_[hello@stablestack.xyz](https://mailto:hello@stablestack.xyz)\_for any questions or concerns."
  version: 1.0.0
servers:
  - url: "https://api-staging.stablestack.xyz/api"
    description: "StableStack API"
tags:
  - name: customers
  - name: customers > kyc
  - name: payouts
  - name: banks
  - name: transactions
  - name: wallets
  - name: assets
  - name: swap
paths:
  /customers/{customer_id}/kyc:
    post:
      tags:
        - customers > kyc
      summary: "merchant: upload documents"
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                document:
                  type: string
                  format: binary
                doc_type:
                  type: string
                  enum:
                    - all_document
                    - utility_bill
                    - bank_statement
                    - proof_of_address
                    - incorporation
                    - memorandum
                    - status_report
                    - operating_license
                    - valid_ids
                    - company_resolution
                    - aml_policy
                    - kyc_policy
                    - data_protection
                  example: utility_bill
                doc_country:
                  type: string
                  example: Nigeria
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
        - name: customer_id
          in: path
          schema:
            type: string
          required: true
          example: 85b148ab-3f6b-4d55-917f-3c8de668a48e
      responses:
        "201":
          description: Created
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "59"
            RateLimit-Reset:
              schema:
                type: integer
                example: "60"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "456"
            ETag:
              schema:
                type: string
                example: W/"1c8-GtfuXyt7Qww5c8AaA+nNauUZ4IE"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 15:01:16 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                status: success
                data:
                  id: 34f28407-6411-4b8c-9b30-d2654d9bfd1e
                  customer_id: 85b148ab-3f6b-4d55-917f-3c8de668a48e
                  doc_country: Nigeria
                  doc_type: all_document
                  doc_file: >-
                    https://res.cloudinary.com/dmllysomu/image/upload/v1746802874/customer_documents/85b148ab-3f6b-4d55-917f-3c8de668a48e_all_document.png
                  is_doc_verified: false
                  approval_status: pending
                  created_at: "2025-05-01T18:40:26.524Z"
                  updated_at: "2025-05-09T15:01:15.861Z"

  /business-customers:
    post:
      tags:
        - business customers
      summary: "Create business customer"
      requestBody:
        description: Create a new business customer account
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessCustomer"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessCustomerResponse"

  /individual-customers:
    post:
      tags:
        - individual customers
      summary: "Create individual customer"
      requestBody:
        description: Create a new individual customer account
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IndividualCustomer"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IndividualCustomerResponse"

  /customers:
    get:
      tags:
        - customers
      summary: "merchant: fetch all customers"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: search
          in: query
          schema:
            type: string
          required: false
          example: "john"

        - name: customer_type
          in: query
          schema:
            type: string
            enum:
              - individual
              - business
          required: false
          example: "business"

        - name: start_date
          in: query
          schema:
            type: string
            format: date-time
          required: false
          example: "2025-05-01T00:00:00Z"
        - name: end_date
          in: query
          schema:
            type: string
            format: date-time
          required: false
          example: "2025-05-09T23:59:59Z"
        - name: include_documents
          in: query
          schema:
            type: boolean
          required: false
          example: true
        - name: page
          in: query
          schema:
            type: integer
          required: false
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
          required: false
          example: 10
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "59"
            RateLimit-Reset:
              schema:
                type: integer
                example: "60"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "4368"
            ETag:
              schema:
                type: string
                example: W/"1110-3TQB7l5gO9J3HYp/Fz8OqTC9wDE"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 16:18:33 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                status: success
                data:
                  - id: 10f07c0c-98d2-4f36-a9df-0dc75f747c52
                    customer_type: individual
                    email: olajohn3@gmail.com
                    phone: "+2348918945668"
                    created_at: "2025-05-09T14:59:51.229Z"
                    updated_at: "2025-05-09T14:59:51.229Z"
                    status: active
                    address:
                      line_1: 123 Main St
                      line_2: Suite 456
                      city: Lagos
                      state: Lagos
                      postal_code: "214578"
                      country: Nigeria
                    personal_info:
                      first_name: john
                      middle_name: Oluwaseun
                      last_name: ola
                      birth_date: "1990-01-14T23:00:00.000Z"
                    financial_info:
                      account_purpose: personal savings
                      employment_status: employed
                      expected_monthly_income: "500000.00"
                      most_recent_occupation: Software Engineer
                      source_of_funds: salary
                  - id: 62217f2f-2f65-4aca-b613-9bcefa333af3
                    customer_type: business
                    email: contact@example.com
                    phone: "+2347918945668"
                    created_at: "2025-05-09T14:58:35.745Z"
                    updated_at: "2025-05-09T14:58:35.745Z"
                    status: active
                    address:
                      line_1: 123 Business Ave
                      line_2: Suite 456
                      city: Lagos
                      state: Lagos
                      postal_code: "214578"
                      country: Nigeria
                    personal_info:
                      first_name: null
                      middle_name: null
                      last_name: null
                      birth_date: null
                    financial_info:
                      account_purpose: business operations
                      employment_status: null
                      expected_monthly_income: "5000000.00"
                      most_recent_occupation: null
                      source_of_funds: business revenue
                    business_info:
                      business_name: Example Enterprises
                      business_type: Retail
                      business_website: https://example.com
                  - id: 85b148ab-3f6b-4d55-917f-3c8de668a48e
                    customer_type: business
                    email: contact@akande.com
                    phone: "+2348098765432"
                    created_at: "2025-05-01T13:47:10.689Z"
                    updated_at: "2025-05-09T14:57:30.534Z"
                    status: active
                    address:
                      line_1: 789 Business Avenue
                      line_2: Suite 500
                      city: Lagos
                      state: Lagos
                      postal_code: "100001"
                      country: Nigeria
                    personal_info:
                      first_name: null
                      middle_name: null
                      last_name: null
                      birth_date: null
                    financial_info:
                      account_purpose: business operations
                      employment_status: null
                      expected_monthly_income: "5000000.00"
                      most_recent_occupation: null
                      source_of_funds: business revenue
                    business_info:
                      business_name: Acme Inc.
                      business_type: Technology Solutions
                      business_website: https://acme.example.com
                  - id: 3836c9c3-0f62-4229-acaf-1da597a14991
                    customer_type: individual
                    email: johnDoe23@gmail.com
                    phone: "+2348098765432"
                    created_at: "2025-05-01T13:45:30.837Z"
                    updated_at: "2025-05-09T14:55:58.657Z"
                    status: active
                    address:
                      line_1: 456 Updated Street
                      line_2: Apt 101
                      city: Lagos
                      state: Lagos
                      postal_code: "100001"
                      country: Nigeria
                    personal_info:
                      first_name: John
                      middle_name: Michael
                      last_name: Doe
                      birth_date: "1990-01-14T23:00:00.000Z"
                    financial_info:
                      account_purpose: personal savings
                      employment_status: employed
                      expected_monthly_income: "500000.00"
                      most_recent_occupation: Software Engineer
                      source_of_funds: salary
                  - id: d75521df-4e59-48d4-938e-617e07c536b2
                    customer_type: individual
                    email: johnDoe0@gmail.com
                    phone: "+2348918945660"
                    created_at: "2025-04-29T08:15:52.097Z"
                    updated_at: "2025-04-29T08:15:52.097Z"
                    status: closed
                    address:
                      line_1: 123 Main St
                      line_2: null
                      city: Lagos
                      state: Lagos
                      postal_code: null
                      country: Nigeria
                    personal_info:
                      first_name: John
                      middle_name: null
                      last_name: Doe
                      birth_date: "1990-01-14T23:00:00.000Z"
                    financial_info:
                      account_purpose: Personal savings
                      employment_status: Employed
                      expected_monthly_income: null
                      most_recent_occupation: null
                      source_of_funds: null
                  - id: 33b60774-a9f0-48b8-be8d-c3d498782425
                    customer_type: business
                    email: johnDoe3@gmail.com
                    phone: "+2348098765432"
                    created_at: "2025-04-24T23:52:31.714Z"
                    updated_at: "2025-04-29T08:17:00.668Z"
                    status: active
                    address:
                      line_1: 123 Main St
                      line_2: 456 Updated Address St
                      city: Lagos
                      state: Lagos
                      postal_code: null
                      country: Nigeria
                    personal_info:
                      first_name: John
                      middle_name: null
                      last_name: Doe
                      birth_date: "1990-01-14T23:00:00.000Z"
                    financial_info:
                      account_purpose: Personal savings
                      employment_status: Employed
                      expected_monthly_income: null
                      most_recent_occupation: null
                      source_of_funds: null
                    business_info:
                      business_name: null
                      business_type: null
                      business_website: null
                pagination:
                  total: 6
                  page: 1
                  limit: 10
                  totalPages: 1

  /customers/{customerId}:
    get:
      tags:
        - customers
      summary: "merchant: fetch by customer_id"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: customerId
          in: path
          schema:
            type: string
          required: true
          example: 85b148ab-3f6b-4d55-917f-3c8de668a48e
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "59"
            RateLimit-Reset:
              schema:
                type: integer
                example: "60"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "801"
            ETag:
              schema:
                type: string
                example: W/"321-n37zVCcWpdtQfqk1JfkCioNySN8"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 16:20:08 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                status: success
                data:
                  id: 85b148ab-3f6b-4d55-917f-3c8de668a48e
                  customer_type: business
                  email: contact@akande.com
                  phone: "+2348098765432"
                  created_at: "2025-05-01T13:47:10.689Z"
                  updated_at: "2025-05-09T14:57:30.534Z"
                  status: active
                  address:
                    line_1: 789 Business Avenue
                    line_2: Suite 500
                    city: Lagos
                    state: Lagos
                    postal_code: "100001"
                    country: Nigeria
                  personal_info:
                    first_name: null
                    middle_name: null
                    last_name: null
                    birth_date: null
                  financial_info:
                    account_purpose: business operations
                    employment_status: null
                    expected_monthly_income: "5000000.00"
                    most_recent_occupation: null
                    source_of_funds: business revenue
                  business_info:
                    business_name: Acme Inc.
                    business_type: Technology Solutions
                    business_website: https://acme.example.com

  /business-customers/{customerId}:
    put:
      tags:
        - customers
      summary: "Update business customer"
      description: Update an existing business customer's information
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: customerId
          in: path
          schema:
            type: string
          required: true
          example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessCustomer"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessCustomerResponse"

  /individual-customers/{customerId}:
    put:
      tags:
        - customers
      summary: "Update individual customer"
      description: Update an existing individual customer's information
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: customerId
          in: path
          schema:
            type: string
          required: true
          example: "11a3c37f-06bb-4e7c-9813-0e47d47e9e2d"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IndividualCustomer"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IndividualCustomerResponse"

  /payouts/validate-address:
    get:
      tags:
        - payouts
      summary: "merchant: validate address"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true

        - name: currency
          in: query
          description: Stablecoin symbol (e.g., usdt, usdc)
          required: true
          schema:
            type: string
            enum: [usdt, usdc]
          example: usdt

        - name: address
          in: query
          description: Stablecoin address to validate
          required: true
          schema:
            type: string
          example: "0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "59"
            RateLimit-Reset:
              schema:
                type: integer
                example: "60"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "85"
            ETag:
              schema:
                type: string
                example: W/"55-FDGwjGE2KzVgyLjRqGJfTMRxvrE"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 15:06:35 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      valid:
                        type: boolean
                  message:
                    type: string
              examples:
                validAddress:
                  summary: Valid address example
                  value:
                    status: "success"
                    data:
                      valid: true
                    message: "Address validation successful."
        "400":
          description: Bad Request
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "59"
            RateLimit-Reset:
              schema:
                type: integer
                example: "60"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "85"
            ETag:
              schema:
                type: string
                example: W/"55-FDGwjGE2KzVgyLjRqGJfTMRxvrE"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 15:06:35 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        value:
                          type: string
                        msg:
                          type: string
                        path:
                          type: string
                        location:
                          type: string
              examples:
                invalidCurrency:
                  summary: Invalid currency error
                  value:
                    status: "failed"
                    message: "Bad Request"
                    errors:
                      - type: "field"
                        value: "usd"
                        msg: "Only USDT and USDC are supported"
                        path: "currency"
                        location: "query"
                invalidAddress:
                  summary: Invalid address error
                  value:
                    status: "failed"
                    message: "The recipient address provided is invalid or not supported."

  /payouts/fees:
    get:
      tags:
        - payouts
      summary: "Fetch fees for Stablecoin or Fiat payouts"
      description: |
        Retrieves payout fees for both Stablecoin and Fiat transactions.
        Required parameters differ based on currency_type (defaults to STABLECOIN).
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true

        # Common parameters
        - name: amount
          in: query
          description: The amount to calculate fees for
          required: true
          schema:
            type: number
            format: float
          example: 500

        - name: currency_type
          in: query
          description: |
            Type of currency (STABLECOIN or FIAT).
            Defaults to STABLECOIN if not specified.
          schema:
            type: string
            enum: [STABLECOIN, FIAT]
            default: STABLECOIN
          example: FIAT

        - name: from_currency
          in: query
          description: Source currency code (e.g., usdt)
          required: true
          schema:
            type: string
          example: usdt

        # Stablecoin specific
        - name: network
          in: query
          description: |
            Blockchain network (required for STABLECOIN).
            Example: erc20, trc20, etc.
          schema:
            type: string
          example: erc20

        # Fiat specific
        - name: to_currency
          in: query
          description: |
            Target fiat currency code (required for FIAT).
            Example: ngn, ghs, etc.
          schema:
            type: string
          example: ngn

        - name: market_pair
          in: query
          description: Optional filter for FIAT specific market pairs (e.g., usdtngn)
          schema:
            type: string
          example: usdtngn
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
              example: >-
                default-src 'self';base-uri 'self';font-src 'self' https:
                data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                data:;object-src 'none';script-src 'self';script-src-attr
                'none';style-src 'self' https:
                'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
              example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
              example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
              example: "?1"
            Referrer-Policy:
              schema:
                type: string
              example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
              example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
              example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
              example: "off"
            X-Download-Options:
              schema:
                type: string
              example: noopen
            X-Frame-Options:
              schema:
                type: string
              example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
              example: none
            X-XSS-Protection:
              schema:
                type: integer
              example: "0"
            Vary:
              schema:
                type: string
              example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
              example: "true"
            RateLimit-Policy:
              schema:
                type: string
              example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
              example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
              example: "59"
            RateLimit-Reset:
              schema:
                type: integer
              example: "60"
            Content-Type:
              schema:
                type: string
              example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
              example: "119"
            ETag:
              schema:
                type: string
              example: W/"77-2yoqITbJUHTq3WdWeYPk7g5HjE8"
            Date:
              schema:
                type: string
              example: Fri, 09 May 2025 15:09:01 GMT
            Connection:
              schema:
                type: string
              example: keep-alive
            Keep-Alive:
              schema:
                type: string
              example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                stablecoinSuccess:
                  summary: Stablecoin Success Example
                  value:
                    status: "success"
                    data:
                      amount: "500.00"
                      currency_type: "STABLECOIN"
                      from_currency: "usdt"
                      fee: "10.75"
                      amount_after_fee: "489.25"
                      network: "erc20"
                fiatSuccess:
                  summary: Fiat Success Example
                  value:
                    status: "success"
                    data:
                      amount: "10.00"
                      currency_type: "FIAT"
                      from_currency: "USDT"
                      fee: "0.020"
                      amount_after_fee: "15929.88"
                      exchangeRate: 1601.19
                      to_currency: "NGN"
                      bank_fee: "50.00"
                      market_pair: "usdtngn"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    properties:
                      status:
                        type: string
                        example: failed
                      message:
                        type: string
                        example: "Bad Request"
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              example: field
                            value:
                              type: string
                              example: "0.1"
                            msg:
                              type: string
                              example: "Amount must be at least 1"
                            path:
                              type: string
                              example: "amount"
                            location:
                              type: string
                              example: "query"
                  - type: object
                    properties:
                      status:
                        type: string
                        example: failed
                      message:
                        type: string
                        example: "Insufficient amount. You need at least 2.10 usdt to proceed."
                      data:
                        type: object
                        properties:
                          minimum_required_amount:
                            type: string
                            example: "2.10"
                          fee:
                            type: string
                            example: "1.105"
                          current_amount:
                            type: string
                            example: "1.00"
              examples:
                validationError:
                  value:
                    status: "failed"
                    message: "Bad Request"
                    errors:
                      - type: "field"
                        value: "0.1"
                        msg: "Amount must be at least 1"
                        path: "amount"
                        location: "query"
                insufficientAmount:
                  value:
                    status: "failed"
                    message: "Insufficient amount. You need at least 2.10 usdt to proceed."
                    data:
                      minimum_required_amount: "2.10"
                      fee: "1.105"
                      current_amount: "1.00"
                invalidCurrencyType:
                  value:
                    status: "failed"
                    message: "Bad Request"
                    errors:
                      - type: "field"
                        value: "crypto"
                        msg: "currency_type must be either STABLECOIN or FIAT"
                        path: "currency_type"
                        location: "query"
                missingNetwork:
                  value:
                    status: "failed"
                    message: "Bad Request"
                    errors:
                      - type: "field"
                        value: null
                        msg: "network is required for STABLECOIN transactions"
                        path: "network"
                        location: "query"
                missingToCurrency:
                  value:
                    status: "failed"
                    message: "Bad Request"
                    errors:
                      - type: "field"
                        value: null
                        msg: "to_currency is required for FIAT transactions"
                        path: "to_currency"
                        location: "query"

  /payout/methods/wallets:
    post:
      tags:
        - payouts
      summary: "Add wallet payout method"
      description: |
        Adds a new wallet payout method (either merchant-owned or customer-specific).
        - Include customer_id to create for a specific customer
        - Omit customer_id to create merchant-owned wallet
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - wallet_address
                - network
                - currency
              properties:
                type:
                  type: string
                  enum: ["WALLET"]
                  default: "WALLET"
                  description: "Must be 'WALLET' for this endpoint"
                customer_id:
                  type: string
                  nullable: true
                  description: "Required only for customer-specific payout methods"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                label:
                  type: string
                  maxLength: 100
                  example: "usdc wallet"
                wallet_address:
                  type: string
                  example: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                network:
                  type: string
                  example: "bep20"
                currency:
                  type: string
                  minLength: 3
                  maxLength: 5
                  example: "USDC"
      responses:
        "201":
          description: Wallet added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "46a75b50-4bdc-4f59-b891-602dc247effe"
                      type:
                        type: string
                        example: WALLET
                      currency:
                        type: string
                        example: USDC
                      label:
                        type: string
                        example: "usdc wallet"
                      wallet_address:
                        type: string
                        example: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network:
                        type: string
                        example: bep20
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:50:31.679Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:50:31.679Z"
                      customer_id:
                        type: string
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  message:
                    type: string
                    example: "Payout method added successfully"
              examples:
                merchantWallet:
                  value:
                    status: "success"
                    data:
                      id: "10530920-81eb-451e-a205-16f9ddb1949a"
                      type: "WALLET"
                      currency: "USDC"
                      label: "usdc wallet"
                      wallet_address: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network: "bep20"
                      created_at: "2025-05-19T19:22:34.511Z"
                      updated_at: "2025-05-19T19:22:34.511Z"
                      customer_id: null
                    message: "Merchant payout method added successfully!"
                customerWallet:
                  value:
                    status: "success"
                    data:
                      id: "46a75b50-4bdc-4f59-b891-602dc247effe"
                      type: "WALLET"
                      currency: "USDC"
                      label: "usdc wallet"
                      wallet_address: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network: "bep20"
                      created_at: "2025-05-12T15:50:31.679Z"
                      updated_at: "2025-05-12T15:50:31.679Z"
                      customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                    message: "Customer payout method added successfully!"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Wallet address is required"
                        path:
                          type: string
                          example: "wallet_address"
                        location:
                          type: string
                          example: "body"

  /payout/methods/banks:
    post:
      tags:
        - payouts
      summary: "Add bank payout method"
      description: |
        Adds a new bank payout method (either merchant-owned or customer-specific).
        - Include customer_id to create for a specific customer
        - Omit customer_id to create merchant-owned bank account
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - account_name
                - account_number
                - bank_name
                - bank_code
                - currency
              properties:
                type:
                  type: string
                  enum: ["BANK"]
                  default: "BANK"
                  description: "Must be 'BANK' for this endpoint"
                customer_id:
                  type: string
                  nullable: true
                  description: "Required only for customer-specific payout methods"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                account_name:
                  type: string
                  example: "John Doe"
                account_number:
                  type: string
                  example: "1234567890"
                bank_name:
                  type: string
                  example: "Test Bank"
                currency:
                  type: string
                  minLength: 3
                  maxLength: 5
                  example: "NGN"
                bank_code:
                  type: string
                  example: "000006"
                sort_code:
                  type: string
                  example: "202524"
                swift_code:
                  type: string
                  example: ""
                routing_number:
                  type: string
                  example: ""
                iban:
                  type: string
                  example: ""
      responses:
        "201":
          description: Bank account added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                      type:
                        type: string
                        example: BANK
                      currency:
                        type: string
                        example: NGN
                      account_name:
                        type: string
                        example: "John Doe"
                      account_number:
                        type: string
                        example: "1234567890"
                      bank_name:
                        type: string
                        example: "Test Bank"
                      bank_code:
                        type: string
                        example: "000006"
                      sort_code:
                        type: string
                        nullable: true
                        example: null
                      swift_code:
                        type: string
                        nullable: true
                        example: null
                      routing_number:
                        type: string
                        nullable: true
                        example: null
                      iban:
                        type: string
                        nullable: true
                        example: null
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:30:56.623Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:30:56.623Z"
                      customer_id:
                        type: string
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  message:
                    type: string
                    example: "Payout method added successfully"
              examples:
                merchantBank:
                  value:
                    status: "success"
                    data:
                      id: "a1b2c3d4-e67f-42a2-b24a-d33f220a0d37"
                      type: "BANK"
                      currency: "NGN"
                      account_name: "John Doe"
                      account_number: "1234567890"
                      bank_name: "Test Bank"
                      bank_code: "000006"
                      sort_code: null
                      swift_code: null
                      routing_number: null
                      iban: null
                      created_at: "2025-05-12T15:30:56.623Z"
                      updated_at: "2025-05-12T15:30:56.623Z"
                      customer_id: null
                    message: "Merchant payout method added successfully!"
                customerBank:
                  value:
                    status: "success"
                    data:
                      id: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                      type: "BANK"
                      currency: "NGN"
                      account_name: "John Doe"
                      account_number: "1234567890"
                      bank_name: "Test Bank"
                      bank_code: "000006"
                      sort_code: null
                      swift_code: null
                      routing_number: null
                      iban: null
                      created_at: "2025-05-12T15:30:56.623Z"
                      updated_at: "2025-05-12T15:30:56.623Z"
                      customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                    message: "Customer payout method added successfully!"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Account number is required"
                        path:
                          type: string
                          example: "account_number"
                        location:
                          type: string
                          example: "body"

  /payout/methods:
    get:
      tags:
        - payouts
      summary: "Fetch payout methods"
      description: |
        Retrieves all payout methods for a merchant.
        - Without customer_id: Returns both merchant-owned and customer payout methods
        - With customer_id: Filters to only that customer's payout methods
        Supports filtering by type (BANK/WALLET) and currency.
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
        - name: customer_id
          in: query
          description: "Filter by specific customer ID"
          required: false
          schema:
            type: string
            nullable: true
          example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
        - name: type
          in: query
          description: "Filter by type (BANK or WALLET)"
          required: false
          schema:
            type: string
            enum: [BANK, WALLET]
          example: "BANK"
        - name: currency
          in: query
          description: "Filter by currency"
          required: false
          schema:
            type: string
          example: "NGN"
        - name: page
          in: query
          description: "Page number for pagination"
          required: false
          schema:
            type: integer
            minimum: 1
          example: 1
        - name: limit
          in: query
          description: "Number of items per page"
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
          example: 10
      responses:
        "200":
          description: Payout methods retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      oneOf:
                        - type: object
                          properties:
                            id:
                              type: string
                              example: "46a75b50-4bdc-4f59-b891-602dc247effe"
                            type:
                              type: string
                              example: WALLET
                            currency:
                              type: string
                              example: USDC
                            label:
                              type: string
                              nullable: true
                              example: "usdc wallet"
                            wallet_address:
                              type: string
                              example: "0xDt541923E23DcE32d1A346e96558dA89f87WD1aB"
                            network:
                              type: string
                              example: bep20
                            created_at:
                              type: string
                              format: date-time
                              example: "2025-05-12T15:50:31.679Z"
                            updated_at:
                              type: string
                              format: date-time
                              example: "2025-05-12T15:50:31.679Z"
                            customer_id:
                              type: string
                              nullable: true
                              example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                        - type: object
                          properties:
                            id:
                              type: string
                              example: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                            type:
                              type: string
                              example: BANK
                            currency:
                              type: string
                              example: NGN
                            account_name:
                              type: string
                              example: "John Doe"
                            account_number:
                              type: string
                              example: "1234567890"
                            bank_name:
                              type: string
                              example: "Test Bank"
                            bank_code:
                              type: string
                              nullable: true
                              example: "000006"
                            sort_code:
                              type: string
                              nullable: true
                              example: null
                            swift_code:
                              type: string
                              nullable: true
                              example: null
                            routing_number:
                              type: string
                              nullable: true
                              example: null
                            iban:
                              type: string
                              nullable: true
                              example: null
                            created_at:
                              type: string
                              format: date-time
                              example: "2025-05-12T15:30:56.623Z"
                            updated_at:
                              type: string
                              format: date-time
                              example: "2025-05-12T15:30:56.623Z"
                            customer_id:
                              type: string
                              nullable: true
                              example: null
                  pagination:
                    type: object
                    properties:
                      total:
                        type: integer
                        example: 15
                      page:
                        type: integer
                        example: 1
                      limit:
                        type: integer
                        example: 10
                      totalPages:
                        type: integer
                        example: 2
                      hasNextPage:
                        type: boolean
                        example: true
                      hasPreviousPage:
                        type: boolean
                        example: false
                  message:
                    type: string
                    example: "Payout methods retrieved successfully"
              examples:
                withCustomerFilter:
                  value:
                    status: "success"
                    data:
                      - id: "46a75b50-4bdc-4f59-b891-602dc247effe"
                        type: "WALLET"
                        currency: "USDC"
                        label: "usdc wallet"
                        wallet_address: "0x7hj656EC7ab90b098defB751B7401B5f6d8976F"
                        network: "bep20"
                        created_at: "2025-05-12T15:50:31.679Z"
                        updated_at: "2025-05-12T15:50:31.679Z"
                        customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                      - id: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                        type: "BANK"
                        currency: "NGN"
                        account_name: "John Doe"
                        account_number: "1234567890"
                        bank_name: "Test Bank"
                        bank_code: "000006"
                        sort_code: null
                        swift_code: null
                        routing_number: null
                        iban: null
                        created_at: "2025-05-12T15:30:56.623Z"
                        updated_at: "2025-05-12T15:30:56.623Z"
                        customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                    pagination:
                      total: 2
                      page: 1
                      limit: 10
                      totalPages: 1
                      hasNextPage: false
                      hasPreviousPage: false
                    message: "Customer payout methods retrieved successfully"
                merchantMethods:
                  value:
                    status: "success"
                    data:
                      - id: "85850de9-b69c-4db0-9f1b-45f853691a88"
                        type: "BANK"
                        currency: "NGN"
                        account_name: "John Doe"
                        account_number: "1234567890"
                        bank_name: "Test Bank"
                        bank_code: "000006"
                        sort_code: "202524"
                        swift_code: "090"
                        routing_number: "i59859"
                        iban: "0979707090"
                        created_at: "2025-05-12T15:24:53.563Z"
                        updated_at: "2025-05-12T15:47:59.305Z"
                        customer_id: null
                      - id: "eea12ff2-421c-40f7-a170-5b38c706744c"
                        type: "WALLET"
                        currency: "USDT"
                        label: "My Primary Wallet"
                        wallet_address: "0x7hj656EC7ab90b098defB751B7401B5f6d8976F"
                        network: "Erc20"
                        created_at: "2025-04-21T18:12:38.702Z"
                        updated_at: "2025-05-10T11:59:31.368Z"
                        customer_id: null
                    pagination:
                      total: 2
                      page: 1
                      limit: 10
                      totalPages: 1
                      hasNextPage: false
                      hasPreviousPage: false
                    message: "Merchant payout methods retrieved successfully"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Invalid page number"
                        path:
                          type: string
                          example: "page"
                        location:
                          type: string
                          example: "query"

  /payout/methods/{payout_method_id}:
    delete:
      tags:
        - payouts
      summary: "Delete payout method"
      description: |
        Permanently deletes a payout method.
        - For merchant-owned methods: No request body needed
        - For customer-specific methods: Include customer_id in request body
        - Returns appropriate success message based on method ownership
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
        - name: payout_method_id
          in: path
          description: "ID of the payout method to delete"
          required: true
          schema:
            type: string
            format: uuid
          example: "46a75b50-4bdc-4f59-b891-602dc247effe"
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                customer_id:
                  type: string
                  format: uuid
                  description: "Required only when deleting customer-specific payout method"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
      responses:
        "200":
          description: Payout method deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: "Payout method deleted successfully"
              examples:
                merchantSuccess:
                  value:
                    status: "success"
                    message: "Merchant payout method deleted successfully"
                customerSuccess:
                  value:
                    status: "success"
                    message: "Customer payout method deleted successfully"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Invalid customer ID format"
                        path:
                          type: string
                          example: "customer_id"
                        location:
                          type: string
                          example: "body"
        "404":
          description: Payout method not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Payout method not found or doesn't belong to requester"
              examples:
                notFound:
                  value:
                    status: "failed"
                    message: "Payout method not found or doesn't belong to requester"

  /payout/methods/wallets/{payout_method_id}:
    put:
      tags:
        - payouts
      summary: "Update wallet payout method"
      description: |
        Updates an existing wallet payout method (either merchant-owned or customer-specific).
        - Include customer_id only when updating a customer-specific wallet
        - Omit customer_id when updating merchant-owned wallet
        - Only include fields that need to be updated (partial updates supported)
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
        - name: payout_method_id
          in: path
          description: "ID of the wallet to update"
          required: true
          schema:
            type: string
            format: uuid
          example: "46a75b50-4bdc-4f59-b891-602dc247effe"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                  enum: ["WALLET"]
                  default: "WALLET"
                  description: "Must be 'WALLET' for this endpoint"
                customer_id:
                  type: string
                  nullable: true
                  description: "Required only when updating customer-specific wallet"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                label:
                  type: string
                  maxLength: 100
                  example: "updated usdc wallet"
                wallet_address:
                  type: string
                  example: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                network:
                  type: string
                  example: "erc20"
                currency:
                  type: string
                  minLength: 3
                  maxLength: 5
                  example: "USDT"
              required:
                - type
                - wallet_address
                - network
                - currency
      responses:
        "200":
          description: Wallet updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "46a75b50-4bdc-4f59-b891-602dc247effe"
                      type:
                        type: string
                        example: WALLET
                      currency:
                        type: string
                        example: USDT
                      label:
                        type: string
                        example: "updated usdc wallet"
                      wallet_address:
                        type: string
                        example: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network:
                        type: string
                        example: erc20
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:50:31.679Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-20T10:15:45.123Z"
                      customer_id:
                        type: string
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  message:
                    type: string
                    example: "Wallet updated successfully"
              examples:
                customerWallet:
                  value:
                    status: "success"
                    data:
                      id: "46a75b50-4bdc-4f59-b891-602dc247effe"
                      type: "WALLET"
                      currency: "USDT"
                      label: "updated usdc wallet"
                      wallet_address: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network: "erc20"
                      created_at: "2025-05-12T15:50:31.679Z"
                      updated_at: "2025-05-20T10:15:45.123Z"
                      customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                    message: "Wallet updated successfully"
                merchantWallet:
                  value:
                    status: "success"
                    data:
                      id: "10530920-81eb-451e-a205-16f9ddb1949a"
                      type: "WALLET"
                      currency: "USDT"
                      label: "updated merchant wallet"
                      wallet_address: "0x9iu41923E23DcE32d1A346e96558dA89f89DD1aB"
                      network: "erc20"
                      created_at: "2025-05-12T15:50:31.679Z"
                      updated_at: "2025-05-20T10:15:45.123Z"
                      customer_id: null
                    message: "Wallet updated successfully"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Invalid wallet ID"
                        path:
                          type: string
                          example: "wallet_id"
                        location:
                          type: string
                          example: "params"
        "404":
          description: Wallet not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Wallet not found"

  /payout/methods/banks/{payout_method_id}:
    put:
      tags:
        - payouts
      summary: "Update bank payout method"
      description: |
        Updates an existing bank payout method (either merchant-owned or customer-specific).
        - Include customer_id only when updating a customer-specific bank account
        - Omit customer_id when updating merchant-owned bank account
        - Only include fields that need to be updated (partial updates supported)
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
        - name: payout_method_id
          in: path
          description: "ID of the bank account to update"
          required: true
          schema:
            type: string
            format: uuid
          example: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                  enum: ["BANK"]
                  default: "BANK"
                  description: "Must be 'BANK' for this endpoint"
                customer_id:
                  type: string
                  nullable: true
                  description: "Required only when updating customer-specific bank account"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                account_name:
                  type: string
                  example: "Updated Name"
                account_number:
                  type: string
                  example: "9876543210"
                bank_name:
                  type: string
                  example: "Updated Bank"
                currency:
                  type: string
                  minLength: 3
                  maxLength: 5
                  example: "USD"
                bank_code:
                  type: string
                  example: "000007"
                sort_code:
                  type: string
                  example: "202525"
                swift_code:
                  type: string
                  example: "SWIFT123"
                routing_number:
                  type: string
                  example: "ROUT456"
                iban:
                  type: string
                  example: "IBAN789"
              required:
                - type
                - account_name
                - account_number
                - bank_name
                - currency
                - bank_code
      responses:
        "200":
          description: Bank account updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                      type:
                        type: string
                        example: BANK
                      currency:
                        type: string
                        example: USD
                      account_name:
                        type: string
                        example: "Updated Name"
                      account_number:
                        type: string
                        example: "9876543210"
                      bank_name:
                        type: string
                        example: "Updated Bank"
                      bank_code:
                        type: string
                        example: "000007"
                      sort_code:
                        type: string
                        nullable: true
                        example: "202525"
                      swift_code:
                        type: string
                        nullable: true
                        example: "SWIFT123"
                      routing_number:
                        type: string
                        nullable: true
                        example: "ROUT456"
                      iban:
                        type: string
                        nullable: true
                        example: "IBAN789"
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-12T15:30:56.623Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-20T10:15:45.123Z"
                      customer_id:
                        type: string
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  message:
                    type: string
                    example: "Bank account updated successfully"
              examples:
                customerBank:
                  value:
                    status: "success"
                    data:
                      id: "b6d3af87-e67f-42a2-b24a-d33f220a0d37"
                      type: "BANK"
                      currency: "USD"
                      account_name: "Updated Name"
                      account_number: "9876543210"
                      bank_name: "Updated Bank"
                      bank_code: "000007"
                      sort_code: "202525"
                      swift_code: "SWIFT123"
                      routing_number: "ROUT456"
                      iban: "IBAN789"
                      created_at: "2025-05-12T15:30:56.623Z"
                      updated_at: "2025-05-20T10:15:45.123Z"
                      customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                    message: "Bank account updated successfully"
                merchantBank:
                  value:
                    status: "success"
                    data:
                      id: "a1b2c3d4-e67f-42a2-b24a-d33f220a0d37"
                      type: "BANK"
                      currency: "USD"
                      account_name: "Updated Merchant Name"
                      account_number: "9876543210"
                      bank_name: "Updated Bank"
                      bank_code: "000007"
                      sort_code: "202525"
                      swift_code: "SWIFT123"
                      routing_number: "ROUT456"
                      iban: "IBAN789"
                      created_at: "2025-05-12T15:30:56.623Z"
                      updated_at: "2025-05-20T10:15:45.123Z"
                      customer_id: null
                    message: "Bank account updated successfully"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Invalid bank account ID"
                        path:
                          type: string
                          example: "bank_id"
                        location:
                          type: string
                          example: "params"
        "404":
          description: Bank account not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Bank account not found"

  /payouts/wallets:
    post:
      tags:
        - payouts
      summary: "Create wallet withdrawal"
      description: "Creates a withdrawal payout to a cryptocurrency wallet"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - currency
                - address
                - amount
                - network
              properties:
                customer_id:
                  type: string
                  format: uuid
                  nullable: true
                  description: "Required for customer withdrawals"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                currency:
                  type: string
                  example: "USDC"
                address:
                  type: string
                  example: "0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
                amount:
                  type: number
                  example: 0.1
                network:
                  type: string
                  example: "bep20"
                recipient_name:
                  type: string
                  nullable: true
                  example: "John Doe"
            examples:
              customerWithdrawal:
                value:
                  customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  currency: "USDC"
                  address: "0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
                  amount: 0.1
                  network: "bep20"
                  recipient_name: "John Doe"
              merchantWithdrawal:
                value:
                  currency: "USDC"
                  address: "0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
                  amount: 0.1
                  network: "bep20"
      responses:
        "200":
          description: Withdrawal created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: "f3394f78-682b-4d28-9cf6-53858fb8216f"
                      sender_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: null
                      receiver_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: null
                      transaction_id:
                        type: string
                        example: "EF40X2S02U"
                      asset_code:
                        type: string
                        example: "USDT"
                      amount:
                        type: string
                        example: "100.00000000"
                      reference_id:
                        type: string
                        format: uuid
                        example: "6b522909-45c9-406d-ac11-b645b79a0202"
                      status:
                        type: string
                        example: "PENDING"
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-27T11:27:29.061Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-27T11:27:29.061Z"
                      crypto_transaction_id:
                        type: string
                        nullable: true
                        example: null
                      network:
                        type: string
                        example: "bep20"
                      transaction_type:
                        type: string
                        example: "PAYOUT"
                      transaction_mode:
                        type: string
                        example: "DEBIT"
                      exchange_rate:
                        type: string
                        nullable: true
                        example: null
                      withdrawal_recipient_name:
                        type: string
                        example: "John Doe"
                      fee:
                        type: string
                        nullable: true
                        example: null
                      balance:
                        type: string
                        example: "0.00000000"
                      reason:
                        type: string
                        example: "Withdraw to 0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
                      customer_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                      recipient_currency:
                        type: string
                        nullable: true
                        example: null
                      recipient_country:
                        type: string
                        nullable: true
                        example: null
                      bank_name:
                        type: string
                        nullable: true
                        example: null
                      bank_code:
                        type: string
                        nullable: true
                        example: null
                      address:
                        type: string
                        example: "0x598C6d42fd6eE0ekleF4f9CAb789e264E8b895f3"
                      bank_account:
                        type: string
                        nullable: true
                        example: null
                      amount_fiat:
                        type: string
                        example: "0.00000000"
                      fiat_reference_id:
                        type: string
                        nullable: true
                        example: null

        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: Error message
                  code:
                    type: string
                    example: ERROR_CODE

  /payouts/banks:
    post:
      tags:
        - payouts
      summary: "Create bank withdrawal"
      description: "Creates a withdrawal payout to a bank account"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - currency
                - account_number
                - bank_name
                - bank_code
                - amount
                - recipient_name
                - recipient_currency
                - recipient_country
              properties:
                customer_id:
                  type: string
                  format: uuid
                  nullable: true
                  description: "Required for customer withdrawals"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                currency:
                  type: string
                  example: "USDT"
                account_number:
                  type: string
                  example: "1234567890"
                bank_name:
                  type: string
                  example: "United Bank for Africa"
                bank_code:
                  type: string
                  example: "000004"
                amount:
                  type: string
                  example: "100"
                recipient_name:
                  type: string
                  example: "John Doe"
                recipient_currency:
                  type: string
                  example: "NGN"
                recipient_country:
                  type: string
                  example: "Nigeria"
            examples:
              customerWithdrawal:
                value:
                  customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  currency: "USDT"
                  account_number: "1234567890"
                  bank_name: "United Bank for Africa"
                  bank_code: "000004"
                  amount: "100"
                  recipient_name: "John Doe"
                  recipient_currency: "NGN"
                  recipient_country: "Nigeria"
              merchantWithdrawal:
                value:
                  currency: "USDT"
                  account_number: "1234567890"
                  bank_name: "United Bank for Africa"
                  bank_code: "000004"
                  amount: "100"
                  recipient_name: "John Doe"
                  recipient_currency: "NGN"
                  recipient_country: "Nigeria"
      responses:
        "200":
          description: Withdrawal created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: "f3394f78-682b-4d28-9cf6-53858fb8216f"
                      sender_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: null
                      receiver_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: null
                      transaction_id:
                        type: string
                        example: "EF40X2S02U"
                      asset_code:
                        type: string
                        example: "USDT"
                      amount:
                        type: string
                        example: "100.00000000"
                      reference_id:
                        type: string
                        format: uuid
                        example: "6b522909-45c9-406d-ac11-b645b79a0202"
                      status:
                        type: string
                        example: "PENDING"
                      created_at:
                        type: string
                        format: date-time
                        example: "2025-05-27T11:27:29.061Z"
                      updated_at:
                        type: string
                        format: date-time
                        example: "2025-05-27T11:27:29.061Z"
                      crypto_transaction_id:
                        type: string
                        nullable: true
                        example: null
                      network:
                        type: string
                        nullable: true
                        example: null
                      transaction_type:
                        type: string
                        example: "PAYOUT"
                      transaction_mode:
                        type: string
                        example: "DEBIT"
                      exchange_rate:
                        type: string
                        nullable: true
                        example: null
                      withdrawal_recipient_name:
                        type: string
                        example: "John"
                      fee:
                        type: string
                        nullable: true
                        example: null
                      balance:
                        type: string
                        example: "0.00000000"
                      reason:
                        type: string
                        example: "Withdraw to 1234567890/000004"
                      customer_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                      recipient_currency:
                        type: string
                        example: "NGN"
                      recipient_country:
                        type: string
                        example: "Nigeria"
                      bank_name:
                        type: string
                        example: "United Bank for Africa"
                      bank_code:
                        type: string
                        example: "000004"
                      address:
                        type: string
                        nullable: true
                        example: null
                      bank_account:
                        type: string
                        example: "1234567890"
                      amount_fiat:
                        type: string
                        example: "0.00000000"
                      fiat_reference_id:
                        type: string
                        nullable: true
                        example: null
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: Error message
                  code:
                    type: string
                    example: ERROR_CODE

  /banks:
    get:
      tags:
        - banks
      summary: "Fetch bank list"
      description: |
        Retrieves list of supported banks.
        Response format may vary based on request parameters.
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true

        - name: currency
          in: query
          description: Currency filter (NGN or USD)
          required: true
          schema:
            type: string
            enum: [NGN, USD]
          example: NGN

      responses:
        "200":
          description: Bank list retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        bank_code:
                          type: string
                          example: "110005"
                        bank_name:
                          type: string
                          example: "3LINE CARD MANAGEMENT LIMITED"
                  message:
                    type: string
                    example: "Bank list retrieved successfully"
              examples:
                basicResponse:
                  value:
                    status: "success"
                    data:
                      - bank_code: "110005"
                        bank_name: "3LINE CARD MANAGEMENT LIMITED"
                      - bank_code: "120001"
                        bank_name: "9 PAYMENT SOLUTIONS BANK"
                    message: "Bank list retrieved successfully"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: "eur"
                        msg:
                          type: string
                          example: "Currency must be either NGN or USD"
                        path:
                          type: string
                          example: "currency"
                        location:
                          type: string
                          example: "query"
              examples:
                invalidCurrency:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: "eur"
                        msg: "Currency must be either NGN or USD"
                        path: "currency"
                        location: "query"
                missingCurrency:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: null
                        msg: "currency is required"
                        path: "currency"
                        location: "query"

  /banks/resolve:
    post:
      tags:
        - banks
      summary: "Resolve bank account details"
      description: |
        Validates and resolves bank account information.
        Returns account holder name and other relevant details.
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: ""
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - account_number
                - bank_code
              properties:
                account_number:
                  type: string
                  description: The bank account number to resolve
                  example: "1234567890"
                bank_code:
                  type: string
                  description: The bank code from the bank list
                  example: "000008"
      responses:
        "200":
          description: Bank account resolved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      destination_institution_code:
                        type: string
                        example: "000008"
                      account_number:
                        type: string
                        example: "1234567890"
                      account_name:
                        type: string
                        example: "Lihua Ma"
                  message:
                    type: string
                    example: "Bank account resolved successfully"
              examples:
                basicResolution:
                  value:
                    status: "success"
                    data:
                      destination_institution_code: "000008"
                      account_number: "1234567890"
                      account_name: "Lihua Ma"
                    message: "Bank account resolved successfully"
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Account number is required"
                        path:
                          type: string
                          example: "account_number"
                        location:
                          type: string
                          example: "body"
              examples:
                missingFields:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: ""
                        msg: "Account number is required"
                        path: "account_number"
                        location: "body"
                      - type: "field"
                        value: ""
                        msg: "Bank code is required"
                        path: "bank_code"
                        location: "body"
                invalidAccount:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: "123"
                        msg: "Account number must be at least 10 characters"
                        path: "account_number"
                        location: "body"

  /transactions:
    get:
      tags:
        - transactions
      summary: "Fetch all transactions"
      description: "Retrieves a paginated list of all transactions with comprehensive filtering options"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
        - name: customer_id
          in: query
          schema:
            type: string
            format: uuid
          required: false
          example: "ddf723ee-5558-442d-b46f-4e3d42817448"
        - name: search
          in: query
          schema:
            type: string
          required: false
          example: "UGTR589JKL"
        - name: status
          in: query
          schema:
            type: string
            enum: [PENDING, COMPLETED, REVERSED, FAILED]
          required: false
          example: "PENDING"
        - name: transaction_id
          in: query
          schema:
            type: string
          required: false
          example: "UGTR589JKL"
        - name: transaction_type
          in: query
          schema:
            type: string
            enum: [DEPOSIT, PAYOUT, INTERNAL TRANSFER]
          required: false
          example: "DEPOSIT"
        - name: transaction_mode
          in: query
          schema:
            type: string
            enum: [CREDIT, DEBIT]
          required: false
          example: "CREDIT"
        - name: currency
          in: query
          schema:
            type: string
            enum: [USDC, USDT]
          required: false
          example: "USD"
        - name: start_date
          in: query
          schema:
            type: string
            format: date
          required: false
          example: "2025-03-03"
        - name: end_date
          in: query
          schema:
            type: string
            format: date
          required: false
          example: "2025-04-29"
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
          required: false
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          required: false
          example: 20
      responses:
        "200":
          description: Transactions retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: "78f599ba-cddd-49fb-809a-246d0471d836"
                        sender_wallet_id:
                          type: string
                          format: uuid
                          nullable: true
                        receiver_wallet_id:
                          type: string
                          format: uuid
                          nullable: true
                        transaction_id:
                          type: string
                          example: "IWGAHO83UD"
                        asset_code:
                          type: string
                          example: "USDT"
                        amount:
                          type: string
                          example: "12.00000000"
                        reference_id:
                          type: string
                          example: "a988fc09-72e3-44f4-834d-2210cb4c9982"
                        status:
                          type: string
                          example: "PENDING"
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                        crypto_transaction_id:
                          type: string
                          nullable: true
                        network:
                          type: string
                          nullable: true
                        transaction_type:
                          type: string
                          example: "PAYOUT"
                        transaction_mode:
                          type: string
                          example: "DEBIT"
                        exchange_rate:
                          type: string
                          example: "1616.00"
                          nullable: true
                        withdrawal_recipient_name:
                          type: string
                          example: "John Doe"
                          nullable: true
                        fee:
                          type: string
                          example: "50.00"
                          nullable: true
                        balance:
                          type: string
                          example: "0.00000000"
                        reason:
                          type: string
                          example: "Withdraw to 1234567890/000004"
                          nullable: true
                        customer_id:
                          type: string
                          format: uuid
                          nullable: true
                        recipient_currency:
                          type: string
                          example: "NGN"
                          nullable: true
                        recipient_country:
                          type: string
                          example: "Nigeria"
                          nullable: true
                        bank_name:
                          type: string
                          example: "Example Bank"
                          nullable: true
                        bank_code:
                          type: string
                          example: "000004"
                          nullable: true
                        address:
                          type: string
                          nullable: true
                        bank_account:
                          type: string
                          example: "1234567890"
                          nullable: true
                  pagination:
                    type: object
                    properties:
                      total:
                        type: integer
                        example: 2
                      page:
                        type: integer
                        example: 1
                      limit:
                        type: integer
                        example: 10
                      totalPages:
                        type: integer
                        example: 1
              examples:
                success:
                  value:
                    status: success
                    data:
                      - id: "78f599ba-cddd-49fb-809a-246d0471d836"
                        sender_wallet_id: null
                        receiver_wallet_id: null
                        transaction_id: "IWGAHO83UD"
                        asset_code: "USDT"
                        amount: "12.00000000"
                        reference_id: "a988fc09-72e3-44f4-834d-2210cb4c9982"
                        status: "PENDING"
                        created_at: "2025-05-20T19:49:30.295Z"
                        updated_at: "2025-05-20T19:49:30.295Z"
                        crypto_transaction_id: null
                        network: null
                        transaction_type: "PAYOUT"
                        transaction_mode: "DEBIT"
                        exchange_rate: "1616.00"
                        withdrawal_recipient_name: "John Doe"
                        fee: "50.00"
                        balance: "0.00000000"
                        reason: "Withdraw to 1234567890/000004"
                        customer_id: null
                        recipient_currency: "NGN"
                        recipient_country: "Nigeria"
                        bank_name: "Example Bank"
                        bank_code: "000004"
                        address: null
                        bank_account: "1234567890"
                      - id: "94f18946-9976-4b01-bbf2-7dda9f0c9fc7"
                        sender_wallet_id: null
                        receiver_wallet_id: null
                        transaction_id: "WDOG7EK8Q1"
                        asset_code: "USDT"
                        amount: "55.00000000"
                        reference_id: "e8131542-0d71-4d93-8415-d07d357145f6"
                        status: "PENDING"
                        created_at: "2025-05-19T08:55:58.220Z"
                        updated_at: "2025-05-19T08:55:58.220Z"
                        crypto_transaction_id: null
                        network: null
                        transaction_type: "PAYOUT"
                        transaction_mode: "DEBIT"
                        exchange_rate: "1611.74"
                        withdrawal_recipient_name: "Jane Smith"
                        fee: "50.00"
                        balance: "0.00000000"
                        reason: "Withdraw to 9876543210/000004"
                        customer_id: null
                        recipient_currency: "NGN"
                        recipient_country: "Nigeria"
                        bank_name: "Sample Bank"
                        bank_code: "000004"
                        address: null
                        bank_account: "9876543210"
                    pagination:
                      total: 2
                      page: 1
                      limit: 10
                      totalPages: 1

        "400":
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Invalid date format. Please use YYYY-MM-DD"
                  code:
                    type: string
                    example: "INVALID_DATE_FORMAT"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Authentication required"
                  code:
                    type: string
                    example: "UNAUTHORIZED"
        "429":
          description: Too many requests
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Too many requests"
                  code:
                    type: string
                    example: "RATE_LIMIT_EXCEEDED"

  /customers/transactions/by_txid/{transaction_id}:
    get:
      tags:
        - transactions
      summary: "Fetch transaction by transaction ID"
      description: "Retrieves detailed information about a specific transaction using its unique transaction ID"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: transaction_id
          in: path
          schema:
            type: string
          required: true
          example: "790ddbf6-b145-4d43-bd13-93b05cc202a2"
      responses:
        "200":
          description: Transaction retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: "790ddbf6-b145-4d43-bd13-93b05cc202a2"
                      sender_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                        example: "6684cc88-7434-4a0e-bc2c-abee383368b7"
                      receiver_wallet_id:
                        type: string
                        format: uuid
                        nullable: true
                      transaction_id:
                        type: string
                        example: "X2APAWCOE6"
                      asset_code:
                        type: string
                        example: "usdt"
                      amount:
                        type: string
                        example: "1.00000000"
                      reference_id:
                        type: string
                        example: "4564cc88-7434-4a0e-bc2c-abee383368b7"
                      status:
                        type: string
                        example: "COMPLETED"
                      created_at:
                        type: string
                        format: date-time
                      updated_at:
                        type: string
                        format: date-time
                      crypto_transaction_id:
                        type: string
                        nullable: true
                      network:
                        type: string
                        nullable: true
                      transaction_type:
                        type: string
                        example: "INTERNAL TRANSFER"
                      transaction_mode:
                        type: string
                        example: "DEBIT"
                      exchange_rate:
                        type: string
                        nullable: true
                      withdrawal_recipient_name:
                        type: string
                        nullable: true
                      fee:
                        type: string
                        nullable: true
                      balance:
                        type: string
                        example: "0.00000000"
                      reason:
                        type: string
                        nullable: true
                      customer_id:
                        type: string
                        format: uuid
                        nullable: true
                      recipient_currency:
                        type: string
                        nullable: true
                      recipient_country:
                        type: string
                        nullable: true
                      bank_name:
                        type: string
                        nullable: true
                      bank_code:
                        type: string
                        nullable: true
                      address:
                        type: string
                        nullable: true
                      bank_account:
                        type: string
                        nullable: true
        "400":
          description: Invalid transaction ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Invalid transaction ID format"
                  code:
                    type: string
                    example: "INVALID_TRANSACTION_ID"
        "404":
          description: Transaction not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Transaction not found"
                  code:
                    type: string
                    example: "TRANSACTION_NOT_FOUND"

  /customers/transactions/by_ref_id/{reference_id}:
    get:
      tags:
        - transactions
      summary: "Fetch transactions by reference ID"
      description: "Retrieves all transactions associated with a specific reference ID"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: reference_id
          in: path
          schema:
            type: string
          required: true
          example: "980ddbf6-b145-4d43-bd13-93b05cc202a2"
      responses:
        "200":
          description: Transactions retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: "790ddbf6-b145-4d43-bd13-93b05cc202a2"
                        sender_wallet_id:
                          type: string
                          format: uuid
                          nullable: true
                          example: "6684cc88-7434-4a0e-bc2c-abee383368b7"
                        receiver_wallet_id:
                          type: string
                          format: uuid
                          nullable: true
                        transaction_id:
                          type: string
                          example: "X2APAWCOE6"
                        asset_code:
                          type: string
                          example: "usdt"
                        amount:
                          type: string
                          example: "1.00000000"
                        reference_id:
                          type: string
                          example: "980ddbf6-b145-4d43-bd13-93b05cc202a2"
                        status:
                          type: string
                          example: "COMPLETED"
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                        crypto_transaction_id:
                          type: string
                          nullable: true
                        network:
                          type: string
                          nullable: true
                        transaction_type:
                          type: string
                          example: "INTERNAL TRANSFER"
                        transaction_mode:
                          type: string
                          example: "DEBIT"
                        exchange_rate:
                          type: string
                          nullable: true
                        withdrawal_recipient_name:
                          type: string
                          nullable: true
                        fee:
                          type: string
                          nullable: true
                        balance:
                          type: string
                          example: "0.00000000"
                        reason:
                          type: string
                          nullable: true
                        customer_id:
                          type: string
                          format: uuid
                          nullable: true
                        recipient_currency:
                          type: string
                          nullable: true
                        recipient_country:
                          type: string
                          nullable: true
                        bank_name:
                          type: string
                          nullable: true
                        bank_code:
                          type: string
                          nullable: true
                        address:
                          type: string
                          nullable: true
                        bank_account:
                          type: string
                          nullable: true
              examples:
                success:
                  value:
                    status: success
                    data:
                      - id: "790ddbf6-b145-4d43-bd13-93b05cc202a2"
                        sender_wallet_id: "6684cc88-7434-4a0e-bc2c-abee383368b7"
                        receiver_wallet_id: null
                        transaction_id: "X2APAWCOE6"
                        asset_code: "usdt"
                        amount: "1.00000000"
                        reference_id: "980ddbf6-b145-4d43-bd13-93b05cc202a2"
                        status: "COMPLETED"
                        created_at: "2025-04-02T22:06:03.507Z"
                        updated_at: "2025-04-02T22:06:03.507Z"
                        crypto_transaction_id: null
                        network: null
                        transaction_type: "INTERNAL TRANSFER"
                        transaction_mode: "DEBIT"
                        exchange_rate: null
                        withdrawal_recipient_name: null
                        fee: null
                        balance: "0.00000000"
                        reason: null
                        customer_id: null
                        recipient_currency: null
                        recipient_country: null
                        bank_name: null
                        bank_code: null
                        address: null
                        bank_account: null
        "400":
          description: Invalid reference ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "Invalid reference ID format"
                  code:
                    type: string
                    example: "INVALID_REFERENCE_ID"
        "404":
          description: No transactions found
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: error
                  message:
                    type: string
                    example: "No transactions found with this reference ID"
                  code:
                    type: string
                    example: "TRANSACTIONS_NOT_FOUND"

  /customers/transactions/by_customer_id/{customer_id}:
    get:
      tags:
        - transactions
      summary: "Fetch transactions by customer ID"
      description: "Retrieves a paginated list of transactions for a specific customer with filtering options"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
        - name: customer_id
          in: path
          schema:
            type: string
            format: uuid
          required: true
          example: "ddf723ee-5558-442d-b46f-4e3d42817448"
        - name: search
          in: query
          schema:
            type: string
          required: false
          example: "dummy_k2aijr1l6gdvpzdskv8hgq"
        - name: status
          in: query
          schema:
            type: string
            enum: [PENDING, COMPLETED, FAILED, REVERSED]
          required: false
          example: "PENDING"
        - name: transaction_type
          in: query
          schema:
            type: string
            enum: [DEPOSIT, PAYOUT, INTERNAL TRANSFER]
          required: false
          example: "DEPOSIT"
        - name: transaction_mode
          in: query
          schema:
            type: string
            enum: [CREDIT, DEBIT]
          required: false
          example: "CREDIT"
        - name: currency
          in: query
          schema:
            type: string
          required: false
          example: "USD"
        - name: start_date
          in: query
          schema:
            type: string
            format: date
          required: false
          example: "2025-03-03"
        - name: end_date
          in: query
          schema:
            type: string
            format: date
          required: false
          example: "2025-04-29"
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
          required: false
          example: 2
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          required: false
          example: 20
      responses:
        "200":
          description: Transactions retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/TransactionDetail"
                  pagination:
                    $ref: "#/components/schemas/Pagination"
              examples:
                success:
                  value:
                    status: success
                    data:
                      - merchant_id: "d9b40fe2-25a1-43b5-88aa-ab473004b782"
                        id: "c59c1766-4ab8-45e5-8de3-d0c842a31d61"
                        sender_wallet_id: null
                        receiver_wallet_id: null
                        transaction_id: "E6TH890JID"
                        asset_code: "busd"
                        amount: "4.09723734"
                        reference_id: "8h8c1766-4ab8-45e5-8de3-d0c842a31d61"
                        status: "PENDING"
                        created_at: "2025-04-29T10:15:04.974Z"
                        updated_at: "2025-04-29T14:53:25.820Z"
                        crypto_transaction_id: null
                        network: null
                        transaction_type: "INTERNAL TRANSFER"
                        transaction_mode: "DEBIT"
                        exchange_rate: "1.50"
                        withdrawal_recipient_name: null
                        fee: null
                        balance: "0.00000000"
                        reason: null
                        customer_id: "ddf723ee-5558-442d-b46f-4e3d42817448"
                        recipient_currency: null
                        recipient_country: null
                        bank_name: null
                        bank_code: null
                        address: null
                        bank_account: null
                    pagination:
                      total: 3
                      page: 1
                      limit: 10
                      totalPages: 1
        "400":
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                invalidDate:
                  value:
                    status: error
                    message: Invalid date format. Please use YYYY-MM-DD
                    code: INVALID_DATE_FORMAT
        "404":
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                notFound:
                  value:
                    status: error
                    message: Customer not found
                    code: CUSTOMER_NOT_FOUND

  /asset-codes:
    get:
      tags:
        - assets
      summary: "Get supported asset codes"
      description: "Retrieves a list of all supported asset codes with their networks"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: asset_type
          in: query
          schema:
            type: string
            enum: [FIAT, STABLECOIN]
          required: false
          description: "Filter by asset type"
          example: "STABLECOIN"
      responses:
        "200":
          description: Asset codes retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: "e5ef5a72-b90c-47ac-be5f-d56c04304300"
                        asset_type:
                          type: string
                          enum: [FIAT, STABLECOIN]
                          example: FIAT
                        code:
                          type: string
                          example: "CAD"
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                        networks:
                          type: array
                          nullable: true
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                format: uuid
                              network:
                                type: string
                                example: "Erc20"
                              created_at:
                                type: string
                                format: date-time
              examples:
                allAssets:
                  value:
                    status: success
                    data:
                      - id: "e5ef5a72-b90c-47ac-be5f-d56c04304300"
                        asset_type: FIAT
                        code: CAD
                        created_at: "2025-04-02T11:16:14.321Z"
                        updated_at: "2025-04-02T11:16:14.321Z"
                        networks: null
                      - id: "119489c6-a21c-4239-8285-c6437141a046"
                        asset_type: STABLECOIN
                        code: USDC
                        created_at: "2025-03-31T12:15:24.426Z"
                        updated_at: "2025-03-31T12:15:24.426Z"
                        networks:
                          - id: "ce2e5ce1-6213-401b-aade-775dfdff7f7c"
                            network: Erc20
                            created_at: "2025-03-31T13:15:36.908Z"
                filteredAssets:
                  value:
                    status: success
                    data:
                      - id: "119489c6-a21c-4239-8285-c6437141a046"
                        asset_type: STABLECOIN
                        code: USDC
                        created_at: "2025-03-31T12:15:24.426Z"
                        updated_at: "2025-03-31T12:15:24.426Z"
                        networks:
                          - id: "ce2e5ce1-6213-401b-aade-775dfdff7f7c"
                            network: Erc20
                            created_at: "2025-03-31T13:15:36.908Z"

  /wallets/{customer_id}/customer:
    get:
      tags:
        - wallets
      summary: "merchant: fetch by customer_id"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: customer_id
          in: path
          schema:
            type: string
          required: true
          example: ""

        - name: status
          in: query
          schema:
            type: string
          required: false
          example: active
        - name: asset_type
          in: query
          schema:
            type: string
          required: false
          example: STABLECOIN
        - name: currency
          in: query
          schema:
            type: string
          required: false
          example: USDC
        - name: page
          in: query
          schema:
            type: integer
          required: false
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
          required: false
          example: 10
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "57"
            RateLimit-Reset:
              schema:
                type: integer
                example: "34"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "933"
            ETag:
              schema:
                type: string
                example: W/"3a5-AOTrIK6zR6fCkUg2ht3E00F5vbk"
            Date:
              schema:
                type: string
                example: Sun, 11 May 2025 12:54:32 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                status: success
                data:
                  - id: 2ed51ca9-e1a4-42be-91c2-a611bd2d8eba
                    asset_type: STABLECOIN
                    currency: USDC
                    balance: "0.00000000"
                    description: my erc account
                    status: active
                    created_at: "2025-04-30T12:22:37.246Z"
                    updated_at: "2025-04-30T12:22:37.246Z"
                    customer_id: ddf723ee-5558-442d-b46f-4e3d42817448
                    addresses:
                      address: "0x67B42590C86F538d3a87253C6e64b32b7D35dhg5"
                      network: bep20
                      created_at: "2025-05-01T10:29:56.789Z"
                  - id: f9351946-776a-4cf3-bac8-3ad7c40ad921
                    asset_type: STABLECOIN
                    currency: USDT
                    balance: "0.00000000"
                    description: my erc account
                    status: active
                    created_at: "2025-04-30T12:11:45.581Z"
                    updated_at: "2025-04-30T12:11:45.581Z"
                    customer_id: ddf723ee-5558-442d-b46f-4e3d42817448
                    addresses:
                      address: "0x67B42590C86F538d3a87253C6e64b32b7D35dhg5"
                      network: erc20
                      created_at: "2025-04-30T12:11:45.898Z"
                pagination:
                  total: 2
                  page: 1
                  limit: 10
                  totalPages: 1

  /wallets:
    post:
      tags:
        - wallets
      summary: "Create wallet (merchant or customer)"
      description: |
        Creates a new wallet for either merchant or customer.
        - For customer wallets: include customer_id
        - For STABLECOIN: network is required
        - For FIAT: network must be omitted
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - currency
              properties:
                customer_id:
                  type: string
                  format: uuid
                  nullable: true
                  description: "Required for customer wallets, omit for merchant wallets"
                  example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                currency:
                  type: string
                  enum: [USDC, USDT, USD, NGN, GBP, EUR, CAD]
                  example: USDC
                  description: "Currency code"
                network:
                  type: string
                  nullable: true
                  enum: [erc20, bep20, solana, trc20, polygon]
                  example: bep20
                  description: "Required for STABLECOIN only"
                description:
                  type: string
                  maxLength: 255
                  example: "My wallet"
                  description: "Optional description (Recommended)"
      responses:
        "201":
          description: Wallet created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        example: "49468947-4006-4b9a-bd96-f6b0d0210ad3"
                      asset_type:
                        type: string
                        enum: [STABLECOIN, FIAT]
                        example: STABLECOIN
                      currency:
                        type: string
                        example: USDC
                      balance:
                        type: string
                        example: "0.00000000"
                      description:
                        type: string
                        nullable: true
                        example: "My USDC wallet"
                      status:
                        type: string
                        example: active
                      created_at:
                        type: string
                        format: date-time
                      updated_at:
                        type: string
                        format: date-time
                      customer_id:
                        type: string
                        format: uuid
                        nullable: true
                      addresses:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            crypto_wallet_id:
                              type: string
                              format: uuid
                            address:
                              type: string
                            network:
                              type: string
                            created_at:
                              type: string
                              format: date-time
              examples:
                stablecoin:
                  value:
                    status: success
                    data:
                      id: "49468947-4006-4b9a-bd96-f6b0d0210ad3"
                      asset_type: "STABLECOIN"
                      currency: "USDC"
                      balance: "0.00000000"
                      description: "my erc account"
                      status: "active"
                      created_at: "2025-05-01T21:04:31.928Z"
                      updated_at: "2025-05-01T21:04:31.928Z"
                      customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                      addresses:
                        - id: "2381eeac-a592-4992-8bb9-4286634a0e94"
                          crypto_wallet_id: "49468947-4006-4b9a-bd96-f6b0d0210ad3"
                          address: "0xDt541923E23DcE32d1A346e96558dA89f87WD1aB"
                          network: "bep20"
                          created_at: "2025-05-01T21:04:32.179Z"
                fiat:
                  value:
                    status: success
                    data:
                      id: "2acf9413-4db9-4602-9b91-22357b256e51"
                      asset_type: "FIAT"
                      currency: "CAD"
                      balance: "0.00"
                      description: "my cad account"
                      status: "pending"
                      created_at: "2025-05-12T16:53:15.383Z"
                      updated_at: "2025-05-12T16:53:15.383Z"
                      customer_id: null
                      addresses: []
        "400":
          description: Validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: failed
                  message:
                    type: string
                    example: "Validation error"
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: field
                        value:
                          type: string
                          example: ""
                        msg:
                          type: string
                          example: "Network is required for STABLECOIN wallets"
                        path:
                          type: string
                          example: network
                        location:
                          type: string
                          example: body
              examples:
                networkError:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: ""
                        msg: "Network is required for STABLECOIN wallets"
                        path: "network"
                        location: "body"
                currencyError:
                  value:
                    status: "failed"
                    message: "Validation error"
                    errors:
                      - type: "field"
                        value: ""
                        msg: "Currency is required"
                        path: "currency"
                        location: "body"
    get:
      tags:
        - wallets
      summary: "Fetch wallets"
      description: "Retrieves a list of all wallets with filtering options"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
        - name: customer_id
          in: query
          schema:
            type: string
            format: uuid
          required: false
          example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
        - name: status
          in: query
          schema:
            type: string
            enum: [active, pending, suspended]
          required: false
          example: active
        - name: asset_type
          in: query
          schema:
            type: string
            enum: [STABLECOIN, FIAT]
          required: false
          example: STABLECOIN
        - name: currency
          in: query
          schema:
            type: string
            enum: [USDC, USDT, USD, NGN, GBP, EUR, CAD]
          required: false
          example: USDC

        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
          required: false
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          required: false
          example: 10
      responses:
        "200":
          description: Wallets retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          example: "49468947-4006-4b9a-bd96-f6b0d0210ad3"
                        asset_type:
                          type: string
                          enum: [STABLECOIN, FIAT]
                          example: STABLECOIN
                        currency:
                          type: string
                          example: USDC
                        balance:
                          type: string
                          example: "0.00000000"
                        description:
                          type: string
                          nullable: true
                          example: "My wallet"
                        status:
                          type: string
                          example: active
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                        customer_id:
                          type: string
                          format: uuid
                          nullable: true
                        addresses:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                format: uuid
                              address:
                                type: string
                              network:
                                type: string
                              created_at:
                                type: string
                                format: date-time
                  pagination:
                    type: object
                    properties:
                      total:
                        type: integer
                        example: 2
                      page:
                        type: integer
                        example: 1
                      limit:
                        type: integer
                        example: 10
                      totalPages:
                        type: integer
                        example: 1
              examples:
                success:
                  value:
                    status: success
                    data:
                      - id: "49468947-4006-4b9a-bd96-f6b0d0210ad3"
                        asset_type: STABLECOIN
                        currency: USDC
                        balance: "0.00000000"
                        description: "my erc account"
                        status: active
                        created_at: "2025-05-01T21:04:31.928Z"
                        updated_at: "2025-05-01T21:04:31.928Z"
                        customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                        addresses:
                          - id: "2381eeac-a592-4992-8bb9-4286634a0e94"
                            address: "0x78D41923E23DcE32d1A346e96558dA89f89DD1aB"
                            network: bep20
                            created_at: "2025-05-01T21:04:32.179Z"
                      - id: "2acf9413-4db9-4602-9b91-22357b256e51"
                        asset_type: FIAT
                        currency: CAD
                        balance: "0.00"
                        description: "my cad account"
                        status: pending
                        created_at: "2025-05-12T16:53:15.383Z"
                        updated_at: "2025-05-12T16:53:15.383Z"
                        customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                        addresses: []
                    pagination:
                      total: 2
                      page: 1
                      limit: 10
                      totalPages: 1

  /wallets/{wallet_id}:
    get:
      tags:
        - wallets
      summary: "merchant: fetch by wallet_id"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          example: >-

        - name: wallet_id
          in: path
          schema:
            type: string
          required: true
          example: 2ed51ca9-e1a4-42be-91c2-a611bd2d8eba
      responses:
        "200":
          description: OK
          headers:
            Content-Security-Policy:
              schema:
                type: string
                example: >-
                  default-src 'self';base-uri 'self';font-src 'self' https:
                  data:;form-action 'self';frame-ancestors 'self';img-src 'self'
                  data:;object-src 'none';script-src 'self';script-src-attr
                  'none';style-src 'self' https:
                  'unsafe-inline';upgrade-insecure-requests
            Cross-Origin-Opener-Policy:
              schema:
                type: string
                example: same-origin
            Cross-Origin-Resource-Policy:
              schema:
                type: string
                example: same-origin
            Origin-Agent-Cluster:
              schema:
                type: string
                example: "?1"
            Referrer-Policy:
              schema:
                type: string
                example: no-referrer
            Strict-Transport-Security:
              schema:
                type: string
                example: max-age=31536000; includeSubDomains
            X-Content-Type-Options:
              schema:
                type: string
                example: nosniff
            X-DNS-Prefetch-Control:
              schema:
                type: string
                example: "off"
            X-Download-Options:
              schema:
                type: string
                example: noopen
            X-Frame-Options:
              schema:
                type: string
                example: SAMEORIGIN
            X-Permitted-Cross-Domain-Policies:
              schema:
                type: string
                example: none
            X-XSS-Protection:
              schema:
                type: integer
                example: "0"
            Vary:
              schema:
                type: string
                example: Origin
            Access-Control-Allow-Credentials:
              schema:
                type: boolean
                example: "true"
            RateLimit-Policy:
              schema:
                type: string
                example: 60;w=60
            RateLimit-Limit:
              schema:
                type: integer
                example: "60"
            RateLimit-Remaining:
              schema:
                type: integer
                example: "58"
            RateLimit-Reset:
              schema:
                type: integer
                example: "41"
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: "805"
            ETag:
              schema:
                type: string
                example: W/"325-dP8+oX4NViocsTKKEVsiZLpZZDk"
            Date:
              schema:
                type: string
                example: Fri, 09 May 2025 17:48:13 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                status: success
                data:
                  id: 2ed51ca9-e1a4-42be-91c2-a611bd2d8eba
                  asset_type: STABLECOIN
                  currency: USDC
                  balance: "0.00000000"
                  description: my erc account
                  status: active
                  created_at: "2025-04-30T12:22:37.246Z"
                  updated_at: "2025-04-30T12:22:37.246Z"
                  customer_id: ddf723ee-5558-442d-b46f-4e3d42817448
                  addresses:
                    - id: fae5a5f4-cdd3-4dd1-9b62-e4a70faf8916
                      address: "0x67B42590C86F538d3a87253C6e64b32b7D35dhg5"
                      network: erc20
                      created_at: "2025-04-30T12:22:37.307Z"
                    - id: 92e6ac2f-6d52-4f7c-b05e-766ffe97191f
                      address: TXvzrLA94eB1Bcp6ssadJukgnMA2Waw98R
                      network: trc20
                      created_at: "2025-05-01T10:27:16.525Z"
                    - id: 55f33b26-6147-4f4f-8a44-91be6826ac83
                      address: "0x67B42590C86F538d3a87253C6e64b32b7D35dhg5"
                      network: bep20
                      created_at: "2025-05-01T10:29:56.789Z"

  /instant-swaps:
    post:
      tags:
        - swaps
      summary: "Create instant currency swap"
      description: "Creates an instant currency swap between supported assets"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/SwapRequest"
            examples:
              customerSwap:
                value:
                  customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  from_currency: "USDT"
                  to_currency: "USDC"
                  amount: "20"
              merchantSwap:
                value:
                  from_currency: "USDT"
                  to_currency: "USDC"
                  amount: "20"
      responses:
        "200":
          description: Swap created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SwapResponse"
              examples:
                success:
                  value:
                    status: success
                    data:
                      status: success
                      message: Successful
                      data:
                        id: "751935b6-4574-4837-90d6-5039d2c165dd"
                        from_currency: "USDT"
                        to_currency: "USDC"
                        quoted_price: "0.9802941274500001"
                        quoted_currency: "USDC"
                        from_amount: "20.0"
                        to_amount: "19.6"
                        confirmed: false
                        expires_at: "2025-05-13T13:24:46.000Z"
                        created_at: "2025-05-13T13:24:31.000Z"
                        updated_at: "2025-05-13T13:24:31.000Z"
                        user:
                          id: "97075f40-1885-4034-92f6-e3e61c0679c5"
                          sn: "QDXTF3IK5BH"
                          email: "contact@akande.com"
                          reference: null
                          first_name: "Akande Enterprises"
                          last_name: "Akande Enterprises"
                          display_name: null
                          created_at: "2025-05-01T21:03:56.000Z"
                          updated_at: "2025-05-01T21:03:56.000Z"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                insufficientBalance:
                  value:
                    status: error
                    message: Insufficient balance for swap
                    code: INSUFFICIENT_BALANCE
                unsupportedPair:
                  value:
                    status: error
                    message: Unsupported currency pair
                    code: UNSUPPORTED_CURRENCY_PAIR
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "429":
          description: Too many requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /swaps/{swapId}/refresh:
    post:
      tags:
        - swaps
      summary: "Refresh swap quote"
      description: "Refreshes the quoted price for an existing currency swap"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: "merchant_api_key_12345"
        - name: swapId
          in: path
          schema:
            type: string
            format: uuid
          required: true
          description: The ID from create instant swap (UUID, required). e.g id:1795e32f-1b1d-47e5-97b4-c8f022da3e87
          example: "324bc043-688f-4c78-9952-02fa7ab92331"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/RefreshRequest"
            examples:
              customerRefresh:
                value:
                  customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  from_currency: "USDT"
                  to_currency: "USDC"
                  from_amount: "20"
              merchantRefresh:
                value:
                  from_currency: "USDT"
                  to_currency: "USDC"
                  from_amount: "20"
      responses:
        "200":
          description: Swap refreshed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SwapResponse"
              examples:
                success:
                  value:
                    status: success
                    data:
                      status: success
                      message: Successful
                      data:
                        id: "324bc043-688f-4c78-9952-02fa7ab92331"
                        from_currency: "USDT"
                        to_currency: "USDC"
                        quoted_price: "0.9802941274500001"
                        quoted_currency: "USDC"
                        from_amount: "20.0"
                        to_amount: "19.6"
                        confirmed: false
                        expires_at: "2025-05-13T13:25:16.000Z"
                        created_at: "2025-05-13T13:22:25.000Z"
                        updated_at: "2025-05-13T13:25:01.000Z"
                        user:
                          id: "97075f40-1885-4034-92f6-e3e61c0679c5"
                          sn: "QDXTF3IK5BH"
                          email: "contact@akande.com"
                          reference: null
                          first_name: "Akande Enterprises"
                          last_name: "Akande Enterprises"
                          display_name: null
                          created_at: "2025-05-01T21:03:56.000Z"
                          updated_at: "2025-05-01T21:03:56.000Z"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                swapExpired:
                  value:
                    status: error
                    message: Swap has expired
                    code: SWAP_EXPIRED
        "404":
          description: Swap not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                notFound:
                  value:
                    status: error
                    message: Swap not found
                    code: SWAP_NOT_FOUND
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "429":
          description: Too many requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /swaps:
    post:
      tags:
        - swaps
      summary: "Confirm and execute swap"
      description: "Executes a previously quoted currency swap transaction"
      parameters:
        - name: x-api-key
          in: header
          schema:
            type: string
          required: true
          example: ""
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/SwapRequest"
            examples:
              customerSwap:
                value:
                  customer_id: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
                  from_currency: "USDT"
                  to_currency: "USDC"
                  amount: "1"
              merchantSwap:
                value:
                  from_currency: "USDT"
                  to_currency: "USDC"
                  amount: "0.13"
      responses:
        "200":
          description: Swap executed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: object
                    properties:
                      debitTransaction:
                        $ref: "#/components/schemas/TransactionDetail"
                      creditTransaction:
                        $ref: "#/components/schemas/TransactionDetail"
                      swapId:
                        type: string
                        format: uuid
                        example: "e60637ec-e5d0-4c68-9bc8-a12658e5735e"
                  message:
                    type: string
                    example: "Swap transaction successful"
              examples:
                success:
                  value:
                    status: success
                    data:
                      debitTransaction:
                        id: "552e8bb6-e9bf-4956-ab3b-9e56cad65a04"
                        sender_wallet_id: "7c1c1825-75c2-4031-86ff-9c46ece29f6c"
                        receiver_wallet_id: "a0d8df69-5cb4-43e7-8746-5652576d7b8b"
                        transaction_id: "ICNZ1RG2VM"
                        asset_code: "usdt"
                        amount: "0.13000000"
                        reference_id: "e60637ec-e5d0-4c68-9bc8-a12658e5735e"
                        status: "PENDING"
                        created_at: "2025-05-21T13:25:08.478Z"
                        updated_at: "2025-05-21T13:25:08.478Z"
                        network: null
                        crypto_transaction_id: null
                        transaction_type: "INTERNAL TRANSFER"
                        transaction_mode: "DEBIT"
                        exchange_rate: "0.98"
                        fee: null
                        withdrawal_recipient_name: null
                        balance: "1.16240000"
                        reason: null
                        customer_id: null
                      creditTransaction:
                        id: "0ea5afd1-3a83-4f54-8116-062fe4680666"
                        sender_wallet_id: "7c1c1825-75c2-4031-86ff-9c46ece29f6c"
                        receiver_wallet_id: "a0d8df69-5cb4-43e7-8746-5652576d7b8b"
                        transaction_id: "8OXM5O9NPM"
                        asset_code: "usdc"
                        amount: "0.12000000"
                        reference_id: "e60637ec-e5d0-4c68-9bc8-a12658e5735e"
                        status: "PENDING"
                        created_at: "2025-05-21T13:25:08.478Z"
                        updated_at: "2025-05-21T13:25:08.478Z"
                        network: null
                        crypto_transaction_id: null
                        transaction_type: "INTERNAL TRANSFER"
                        transaction_mode: "CREDIT"
                        exchange_rate: "0.98"
                        fee: null
                        withdrawal_recipient_name: null
                        balance: "1.10000000"
                        reason: null
                        customer_id: null
                      swapId: "e60637ec-e5d0-4c68-9bc8-a12658e5735e"
                    message: "Swap transaction successful"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                insufficientBalance:
                  value:
                    status: error
                    message: Insufficient balance to complete swap
                    code: INSUFFICIENT_BALANCE
                swapExpired:
                  value:
                    status: error
                    message: Swap quote has expired
                    code: SWAP_EXPIRED
        "404":
          description: Swap not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                unauthorized:
                  value:
                    status: error
                    message: "Authentication required"
                    code: "UNAUTHORIZED"

        "429":
          description: Too many requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
              examples:
                rate_limit_exceeded:
                  value:
                    status: error
                    message: "Too many requests. Please slow down."
                    code: "RATE_LIMIT_EXCEEDED"

# COMPONENTS
components:
  schemas:
    # CREATE CUSTOMER SCHEMAS
    BusinessCustomer:
      type: object
      required:
        - customer_type
        - business_name
        - business_type
        - email
        - phone
        - account_purpose
        - source_of_funds
        - expected_monthly_income
        - registered_address
        - industry
        - estimated_annual_revenue_usd

      properties:
        customer_type:
          type: string
          enum:
            - business
          default: business
        business_name:
          type: string
          example: "Example Enterprises"
          description: "Legal name of the business"
        business_type:
          type: string
          enum:
            - "GENERAL_PARTNERSHIP"
            - "LIMITED_PARTNERSHIP"
            - "LIMITED_LIABILITY_PARTNERSHIP"
            - "LIMITED_LIABILITY_COMPANY"
            - "NONPROFIT_CORPORATION"
            - "SOLE_PROPRIETORSHIP"
            - "TRUST"
            - "NON_US"
          example: "LIMITED_LIABILITY_COMPANY"
          description: "Legal structure of the business"
        business_website:
          type: string
          format: uri
          example: "https://example.com"
          description: "Business website URL (optional)"
        email:
          type: string
          format: email
          example: "contact@example.com"
          description: "Business email address"
        phone:
          type: string
          pattern: '^\+[1-9]\d{1,14}$'
          example: "+2347918945668"
          description: "Business phone number with country code e.g +100000000"
        account_purpose:
          type: string
          enum:
            - "CHARITABLE_DONATIONS"
            - "ECOMMERCE_RETAIL_PAYMENTS"
            - "INVESTMENT_PURPOSES"
            - "OPERATING_A_COMPANY"
            - "PAYMENTS_TO_FRIENDS_OR_FAMILY_ABROAD"
            - "OTHER"
            - "PERSONAL_OR_LIVING_EXPENSES"
            - "PROTECT_WEALTH"
            - "PURCHASE_GOODS_AND_SERVICES"
            - "RECEIVE_PAYMENT_FOR_FREELANCING"
            - "RECEIVE_SALARY"
          example: "OPERATING_A_COMPANY"
          description: "Primary purpose for using the account"
        source_of_funds:
          type: string
          enum:
            - "BUSINESS_LOANS"
            - "GRANTS"
            - "INTER_COMPANY_FUNDS"
            - "INVESTMENT_PROCEEDS"
            - "LEGAL_SETTLEMENT"
            - "OWNERS_CAPITAL"
            - "PENSION_RETIREMENT"
            - "SALE_OF_ASSETS"
            - "SALES_OF_GOODS_AND_SERVICES"
            - "TAX_REFUND"
            - "THIRD_PARTY_FUNDS"
            - "TREASURY_RESERVES"
            - "ASSETS_SALE"
            - "BUSINESS_INCOME"
            - "CASH_DEPOSITS"
            - "COMPANY_FUNDS"
            - "ECOMMERCE_RESELLER"
            - "GAMBLING_PROCEEDS"
            - "GIFTS"
            - "GOVERNMENT_BENEFITS"
            - "INHERITANCE"
            - "INVESTMENTS_LOANS"
            - "SALARY"
            - "SALE_OF_ASSETS_REAL_ESTATE"
            - "SAVINGS"
            - "SOMEONE_ELSES_FUNDS"
          example: "SALES_OF_GOODS_AND_SERVICES"
          description: "Primary source of funds for the business"
        expected_monthly_income:
          type: number
          minimum: 0
          example: 5000000
          description: "Expected monthly income in local currency"
        industry:
          type: string
          enum:
            - "111120"
            - "111219"
            - "111336"
            - "111421"
            - "111998"
            - "112111"
            - "112210"
            - "112310"
            - "112410"
            - "112519"
            - "112990"
            - "113110"
            - "113210"
            - "113310"
            - "114119"
            - "114210"
            - "115113"
            - "115210"
            - "115310"
            - "211130"
            - "212114"
            - "212290"
            - "212390"
            - "213113"
            - "221122"
            - "221210"
            - "221320"
            - "236118"
            - "236210"
            - "237130"
            - "237210"
            - "237310"
            - "237990"
            - "238191"
            - "238211"
            - "238391"
            - "238991"
            - "311119"
            - "311212"
            - "311314"
            - "311422"
            - "311511"
            - "311612"
            - "311710"
            - "311811"
            - "311999"
            - "312111"
            - "312230"
            - "313110"
            - "313240"
            - "313310"
            - "314120"
            - "314999"
            - "315120"
            - "315250"
            - "315990"
            - "316110"
            - "316210"
            - "316990"
            - "321113"
            - "321211"
            - "321918"
            - "322120"
            - "322299"
            - "323120"
            - "324110"
            - "325180"
            - "325220"
            - "325320"
            - "325412"
            - "325510"
            - "325611"
            - "325998"
            - "326111"
            - "326220"
            - "327120"
            - "327212"
            - "327310"
            - "327410"
            - "327999"
            - "331110"
            - "331210"
            - "331313"
            - "331410"
            - "331511"
            - "332111"
            - "332215"
            - "332311"
            - "332410"
            - "332510"
            - "332613"
            - "332710"
            - "332812"
            - "332999"
            - "333111"
            - "333248"
            - "333310"
            - "333413"
            - "333517"
            - "333611"
            - "333618"
            - "334118"
            - "334210"
            - "334310"
            - "334413"
            - "334511"
            - "334610"
            - "335131"
            - "335220"
            - "335311"
            - "335999"
            - "336110"
            - "336211"
            - "336390"
            - "336412"
            - "336510"
            - "336611"
            - "336999"
            - "337122"
            - "337214"
            - "337920"
            - "339112"
            - "339999"
            - "423120"
            - "423220"
            - "423310"
            - "423490"
            - "423520"
            - "423620"
            - "423710"
            - "423840"
            - "423990"
            - "424110"
            - "424210"
            - "424310"
            - "424490"
            - "424590"
            - "424690"
            - "424720"
            - "424820"
            - "424990"
            - "425120"
            - "441110"
            - "441227"
            - "441330"
            - "449110"
            - "449129"
            - "449210"
            - "444180"
            - "444240"
            - "445110"
            - "445298"
            - "445320"
            - "456110"
            - "457110"
            - "458110"
            - "458210"
            - "458320"
            - "459120"
            - "459210"
            - "455110"
            - "455219"
            - "459310"
            - "459410"
            - "459510"
            - "459999"
            - "454113"
            - "445132"
            - "454390"
            - "481111"
            - "481211"
            - "482111"
            - "483112"
            - "483212"
            - "484110"
            - "484220"
            - "485119"
            - "485210"
            - "485310"
            - "485410"
            - "485510"
            - "485999"
            - "486110"
            - "486210"
            - "486990"
            - "487110"
            - "487210"
            - "487990"
            - "488190"
            - "488210"
            - "488390"
            - "488490"
            - "488510"
            - "488999"
            - "492110"
            - "492210"
            - "493190"
            - "513130"
            - "513210"
            - "512199"
            - "512290"
            - "516120"
            - "515210"
            - "517111"
            - "517112"
            - "517410"
            - "517810"
            - "518210"
            - "519290"
            - "521110"
            - "522130"
            - "522298"
            - "522390"
            - "523150"
            - "523210"
            - "523999"
            - "524128"
            - "524298"
            - "525190"
            - "525910"
            - "531190"
            - "531210"
            - "531390"
            - "532111"
            - "532289"
            - "532310"
            - "532490"
            - "533110"
            - "541199"
            - "541213"
            - "541310"
            - "541490"
            - "541512"
            - "541618"
            - "541720"
            - "541810"
            - "541690"
            - "551114"
            - "561110"
            - "561210"
            - "561311"
            - "561499"
            - "561599"
            - "561611"
            - "561790"
            - "561990"
            - "562111"
            - "562211"
            - "562998"
            - "611110"
            - "611210"
            - "611310"
            - "611420"
            - "611519"
            - "611699"
            - "611710"
            - "621111"
            - "621210"
            - "621399"
            - "621498"
            - "621511"
            - "621610"
            - "621999"
            - "622110"
            - "622210"
            - "622310"
            - "623110"
            - "623210"
            - "623311"
            - "623990"
            - "624190"
            - "624230"
            - "624310"
            - "624410"
            - "711190"
            - "711219"
            - "711310"
            - "711410"
            - "711510"
            - "712120"
            - "713110"
            - "713290"
            - "713990"
            - "721199"
            - "721211"
            - "721310"
            - "722310"
            - "722410"
            - "722511"
            - "811198"
            - "811210"
            - "811310"
            - "811411"
            - "812199"
            - "812210"
            - "812320"
            - "812990"
            - "813110"
            - "813211"
            - "813319"
            - "813410"
            - "813930"
            - "814110"
            - "921140"
            - "922190"
            - "923130"
            - "924110"
            - "925120"
            - "926110"
            - "927110"
            - "928110"
          example: "541512"
          description: "Industry classification based on NAICS codes - use the code value for API requests"
        registered_address:
          $ref: "#/components/schemas/RegisteredAddress"
        # Optional enhanced fields
        legal_structure:
          type: string
          example: "LLC"
          description: "Legal structure of the business (deprecated - use business_type)"
        trading_name:
          type: string
          example: "Example Trading Co"
          description: "Trading or DBA name if different from legal name"
        nature_of_business:
          type: string
          maxLength: 500
          example: "Online retail and e-commerce platform specializing in consumer electronics"
          description: "Detailed description of business activities"
        contact_person_email:
          type: string
          format: email
          example: "ceo@example.com"
          description: "Contact person email address"
        contact_person_phone:
          type: string
          pattern: '^\+[1-9]\d{1,14}$'
          example: "+2347918945669"
          description: "Contact person phone number"
        estimated_annual_revenue_usd:
          type: string
          enum:
            - "UNDER_HUNDRED_THOUSAND"
            - "HUNDRED_THOUSAND_TO_MILLION"
            - "MILLION_TO_TEN_MILLION"
            - "TEN_MILLION_TO_FIFTY_MILLION"
            - "FIFTY_MILLION_TO_HUNDRED_MILLION"
            - "OVER_HUNDRED_MILLION"
          example: "HUNDRED_THOUSAND_TO_MILLION"
          description: "Estimated annual revenue range in USD"
        operates_in_prohibited_countries:
          type: boolean
          default: false
          description: "Whether business operates in prohibited countries"
        is_dao:
          type: boolean
          default: false
          description: "Whether the business is a DAO (Decentralized Autonomous Organization)"
        registration_number:
          type: string
          example: "REG123456789"
          description: "Business registration number"
        registration_date:
          type: string
          format: date
          example: "2020-01-15"
          description: "Business registration date"
        tax_identification_number:
          type: string
          example: "TIN123456789"
          description: "Tax identification number"
        phone_country_code:
          type: string
          pattern: '^\+[1-9]\d{0,3}$'
          example: "+234"
          description: "Country code for phone number"
        account_purpose_explanation:
          type: string
          maxLength: 1000
          example: "To facilitate international payments for our e-commerce business and manage supplier relationships"
          description: "Detailed explanation of account purpose"
        expected_monthly_payments_usd:
          type: number
          minimum: 0
          example: 10000
          description: "Expected monthly payments in USD"
        business_owners:
          type: array
          description: "Array of business owners/associated persons (required for certain business types)"
          items:
            $ref: '#/components/schemas/BusinessOwner'
        user_documents:
          type: array
          description: "Array of supporting documents for KYC verification"
          items:
            $ref: '#/components/schemas/UserDocument'

    IndividualCustomer:
      type: object
      required:
        - customer_type
        - first_name
        - last_name
        - email
        - phone
        - birth_date
        - account_purpose
        - employment_status
        - expected_monthly_income
        - most_recent_occupation
        - source_of_funds
        - registered_address
      properties:
        customer_type:
          type: string
          enum:
            - individual
          default: individual
        first_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "John"
          description: "First name of the individual"
        middle_name:
          type: string
          maxLength: 50
          example: "Oluwaseun"
          description: "Middle name of the individual (optional)"
        last_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "Ola"
          description: "Last name of the individual"
        email:
          type: string
          format: email
          example: "olajohn3@gmail.com"
          description: "Email address of the individual"
        phone:
          type: string
          pattern: '^\+[1-9]\d{1,14}$'
          example: "+2348918945668"
          description: "Phone number with country code"
        birth_date:
          type: string
          format: date
          example: "1990-01-15"
          description: "Date of birth (must be 18+ years old)"
        account_purpose:
          type: string
          enum:
            - "CHARITABLE_DONATIONS"
            - "ECOMMERCE_RETAIL_PAYMENTS"
            - "INVESTMENT_PURPOSES"
            - "OPERATING_A_COMPANY"
            - "PAYMENTS_TO_FRIENDS_OR_FAMILY_ABROAD"
            - "OTHER"
            - "PERSONAL_OR_LIVING_EXPENSES"
            - "PROTECT_WEALTH"
            - "PURCHASE_GOODS_AND_SERVICES"
            - "RECEIVE_PAYMENT_FOR_FREELANCING"
            - "RECEIVE_SALARY"
          example: "PERSONAL_OR_LIVING_EXPENSES"
          description: "Primary purpose for using the account"
        employment_status:
          type: string
          enum:
            - "EMPLOYED"
            - "SELF_EMPLOYED"
            - "UNEMPLOYED"
            - "STUDENT"
            - "RETIRED"
            - "OTHER"
          example: "EMPLOYED"
          description: "Current employment status"
        expected_monthly_income:
          type: number
          minimum: 0
          example: 500000
          description: "Expected monthly income in local currency"
        most_recent_occupation:
          type: string
          enum:
            - "132011"
            - "272011"
            - "152011"
            - "291291"
            - "519191"
            - "113012"
            - "112011"
            - "413011"
            - "172011"
            - "131011"
            - "194010"
            - "191010"
            - "172021"
            - "452011"
            - "532020"
            - "493011"
            - "532010"
            - "512011"
            - "533011"
            - "452021"
            - "392021"
            - "339011"
            - "392011"
            - "171011"
            - "173011"
            - "119041"
            - "254010"
            - "271010"
            - "192010"
            - "272021"
            - "192021"
            - "291181"
            - "492097"
            - "493021"
            - "493022"
            - "493023"
            - "492091"
            - "396010"
            - "333011"
            - "513011"
            - "395011"
            - "353011"
            - "433011"
            - "433021"
            - "172031"
            - "191020"
            - "194021"
            - "472011"
            - "433031"
            - "472020"
            - "273011"
            - "274010"
            - "434011"
            - "132031"
            - "493031"
            - "131199"
            - "513020"
            - "131021"
            - "517011"
            - "292031"
            - "435011"
            - "472031"
            - "472040"
            - "412010"
            - "472050"
            - "351011"
            - "172041"
            - "519010"
            - "194031"
            - "192030"
            - "111011"
            - "211021"
            - "399011"
            - "291011"
            - "172051"
            - "131030"
            - "537061"
            - "212011"
            - "193033"
            - "292010"
            - "272022"
            - "499091"
            - "271021"
            - "499092"
            - "432099"
            - "113111"
            - "131141"
            - "131041"
            - "151221"
            - "113021"
            - "172061"
            - "151241"
            - "519160"
            - "151299"
            - "151251"
            - "151230"
            - "151211"
            - "492011"
            - "191030"
            - "474011"
            - "472070"
            - "472061"
            - "119021"
            - "499010"
            - "5370XX"
            - "352010"
            - "333012"
            - "434021"
            - "131051"
            - "211019"
            - "412021"
            - "435021"
            - "273092"
            - "434031"
            - "537021"
            - "132041"
            - "434041"
            - "132070"
            - "339091"
            - "519020"
            - "434051"
            - "519030"
            - "514031"
            - "272030"
            - "439021"
            - "15124X"
            - "519080"
            - "319091"
            - "291292"
            - "291020"
            - "475010"
            - "439031"
            - "333021"
            - "292032"
            - "29205X"
            - "291031"
            - "359011"
            - "212021"
            - "272091"
            - "359021"
            - "435032"
            - "419091"
            - "533030"
            - "472080"
            - "475023"
            - "193011"
            - "273041"
            - "119030"
            - "211012"
            - "492092"
            - "173023"
            - "172070"
            - "492093"
            - "49209X"
            - "499051"
            - "512020"
            - "472111"
            - "492096"
            - "252020"
            - "474021"
            - "434061"
            - "3940XX"
            - "119161"
            - "292042"
            - "291214"
            - "512031"
            - "172199"
            - "272099"
            - "119070"
            - "172081"
            - "194040"
            - "192041"
            - "519194"
            - "475022"
            - "436011"
            - "291128"
            - "399031"
            - "475032"
            - "519041"
            - "113013"
            - "119013"
            - "271022"
            - "353023"
            - "474031"
            - "434071"
            - "132051"
            - "433099"
            - "132061"
            - "113031"
            - "332020"
            - "332011"
            - "552010"
            - "471011"
            - "331011"
            - "451011"
            - "331021"
            - "351012"
            - "371011"
            - "371012"
            - "491011"
            - "411012"
            - "431011"
            - "331012"
            - "511011"
            - "331099"
            - "411011"
            - "331091"
            - "333031"
            - "453031"
            - "532031"
            - "271023"
            - "513091"
            - "513092"
            - "513093"
            - "359099"
            - "352021"
            - "513099"
            - "353041"
            - "119051"
            - "454011"
            - "514020"
            - "131131"
            - "119171"
            - "519051"
            - "517021"
            - "433041"
            - "393010"
            - "111021"
            - "19204X"
            - "472121"
            - "452041"
            - "271024"
            - "514033"
            - "395012"
            - "474041"
            - "291299"
            - "211022"
            - "499021"
            - "493040"
            - "499098"
            - "519198"
            - "473010"
            - "474051"
            - "499031"
            - "311121"
            - "359031"
            - "434081"
            - "434161"
            - "113121"
            - "131070"
            - "49904X"
            - "172110"
            - "113051"
            - "537051"
            - "434199"
            - "151212"
            - "519061"
            - "472130"
            - "439041"
            - "413021"
            - "132053"
            - "271025"
            - "273091"
            - "434111"
            - "37201X"
            - "519071"
            - "231020"
            - "231012"
            - "537062"
            - "171012"
            - "373011"
            - "516011"
            - "231011"
            - "436012"
            - "232099"
            - "111031"
            - "254022"
            - "434121"
            - "254031"
            - "292061"
            - "191099"
            - "434131"
            - "499094"
            - "534010"
            - "119081"
            - "454020"
            - "131081"
            - "537063"
            - "514041"
            - "292035"
            - "372012"
            - "439051"
            - "499071"
            - "499043"
            - "131111"
            - "119199"
            - "395092"
            - "499095"
            - "172121"
            - "131161"
            - "112021"
            - "211013"
            - "319011"
            - "172131"
            - "152021"
            - "172141"
            - "274099"
            - "273099"
            - "119111"
            - "319092"
            - "292072"
            - "191040"
            - "436013"
            - "319094"
            - "131121"
            - "211023"
            - "211014"
            - "271026"
            - "514050"
            - "435041"
            - "553010"
            - "551010"
            - "554010"
            - "499044"
            - "172151"
            - "452090"
            - "474090"
            - "292090"
            - "518090"
            - "193090"
            - "493090"
            - "514060"
            - "419010"
            - "514070"
            - "519195"
            - "394031"
            - "533099"
            - "272041"
            - "272042"
            - "119121"
            - "151244"
            - "434141"
            - "273023"
            - "172161"
            - "29203X"
            - "194051"
            - "291151"
            - "291161"
            - "291171"
            - "311131"
            - "195010"
            - "291122"
            - "312010"
            - "439199"
            - "439061"
            - "439071"
            - "152031"
            - "292081"
            - "291041"
            - "434151"
            - "31113X"
            - "5120XX"
            - "21109X"
            - "27102X"
            - "17301X"
            - "2590XX"
            - "17302X"
            - "3930XX"
            - "4750XX"
            - "1320XX"
            - "37301X"
            - "299000"
            - "31909X"
            - "49909X"
            - "1940XX"
          example: "151211"
          description: "Most recent occupation based on SOC codes - use the code value for API requests"
        source_of_funds:
          type: string
          enum:
            - "BUSINESS_LOANS"
            - "GRANTS"
            - "INTER_COMPANY_FUNDS"
            - "INVESTMENT_PROCEEDS"
            - "LEGAL_SETTLEMENT"
            - "OWNERS_CAPITAL"
            - "PENSION_RETIREMENT"
            - "SALE_OF_ASSETS"
            - "SALES_OF_GOODS_AND_SERVICES"
            - "TAX_REFUND"
            - "THIRD_PARTY_FUNDS"
            - "TREASURY_RESERVES"
            - "ASSETS_SALE"
            - "BUSINESS_INCOME"
            - "CASH_DEPOSITS"
            - "COMPANY_FUNDS"
            - "ECOMMERCE_RESELLER"
            - "GAMBLING_PROCEEDS"
            - "GIFTS"
            - "GOVERNMENT_BENEFITS"
            - "INHERITANCE"
            - "INVESTMENTS_LOANS"
            - "SALARY"
            - "SALE_OF_ASSETS_REAL_ESTATE"
            - "SAVINGS"
            - "SOMEONE_ELSES_FUNDS"
          example: "SALARY"
          description: "Primary source of funds"
        registered_address:
          $ref: "#/components/schemas/RegisteredAddress"
        # Optional enhanced fields
        phone_country_code:
          type: string
          pattern: '^\+[1-9]\d{0,3}$'
          example: "+234"
          description: "Country code for phone number"
        account_purpose_explanation:
          type: string
          maxLength: 1000
          example: "To save money for future investments and handle personal international transactions"
          description: "Detailed explanation of account purpose"
        expected_monthly_payments_usd:
          type: number
          minimum: 0
          example: 1000
          description: "Expected monthly payments in USD"
        acting_as_intermediary:
          type: boolean
          default: false
          description: "Whether acting as an intermediary for third parties"
        tax_identification_number:
          type: string
          example: "TIN987654321"
          description: "Tax identification number (optional)"
        user_documents:
          type: array
          description: "Array of supporting documents for KYC verification"
          items:
            $ref: '#/components/schemas/UserDocument'

    RegisteredAddress:
      type: object
      description: "Address information (used for both individual and business customers)"
      required:
        - street1
        - city
        - state
        - postal_code
        - country
      properties:
        street1:
          type: string
          minLength: 1
          maxLength: 100
          example: "123 Main St"
          description: "Primary address line"
        street2:
          type: string
          maxLength: 100
          example: "Suite 456"
          description: "Secondary address line (optional)"
        city:
          type: string
          minLength: 1
          maxLength: 50
          example: "Lagos"
          description: "City name"
        state:
          type: string
          minLength: 1
          maxLength: 50
          example: "DE"
          description: "State or province code with country prefix (e.g., DE for Delware, LA for Lagos)"
        postal_code:
          type: string
          minLength: 1
          maxLength: 20
          example: "214578"
          description: "Postal or ZIP code"
        country:
          type: string
          enum:
            - AF
            - AL
            - DZ
            - AD
            - AO
            - AG
            - AR
            - AM
            - AU
            - AT
            - AZ
            - BS
            - BH
            - BD
            - BB
            - BY
            - BE
            - BZ
            - BJ
            - BT
            - BO
            - BA
            - BW
            - BR
            - BN
            - BG
            - BF
            - BI
            - CV
            - KH
            - CM
            - CA
            - CF
            - TD
            - CL
            - CN
            - CO
            - KM
            - CG
            - CR
            - HR
            - CU
            - CY
            - CZ
            - CD
            - DK
            - DJ
            - DM
            - DO
            - EC
            - EG
            - SV
            - GQ
            - ER
            - EE
            - SZ
            - ET
            - FJ
            - FI
            - FR
            - GA
            - GM
            - GE
            - DE
            - GH
            - GR
            - GD
            - GT
            - GN
            - GW
            - GY
            - HT
            - HN
            - HU
            - IS
            - IN
            - ID
            - IR
            - IQ
            - IE
            - IL
            - IT
            - JM
            - JP
            - JO
            - KZ
            - KE
            - KI
            - KW
            - KG
            - LA
            - LV
            - LB
            - LS
            - LR
            - LY
            - LI
            - LT
            - LU
            - MG
            - MW
            - MY
            - MV
            - ML
            - MT
            - MH
            - MR
            - MU
            - MX
            - FM
            - MD
            - MC
            - MN
            - ME
            - MA
            - MZ
            - MM
            - NA
            - NR
            - NP
            - NL
            - NZ
            - NI
            - NE
            - NG
            - KP
            - MK
            - NO
            - OM
            - PK
            - PW
            - PS
            - PA
            - PG
            - PY
            - PE
            - PH
            - PL
            - PT
            - QA
            - RO
            - RU
            - RW
            - KN
            - LC
            - VC
            - WS
            - SM
            - ST
            - SA
            - SN
            - RS
            - SC
            - SL
            - SG
            - SK
            - SI
            - SB
            - SO
            - ZA
            - KR
            - SS
            - ES
            - LK
            - SD
            - SR
            - SE
            - CH
            - SY
            - TW
            - TJ
            - TZ
            - TH
            - TL
            - TG
            - TO
            - TT
            - TN
            - TR
            - TM
            - TV
            - UG
            - UA
            - AE
            - GB
            - US
            - UY
            - UZ
            - VU
            - VA
            - VE
            - VN
            - YE
            - ZM
            - ZW
          example: "NG"
          description: "ISO 3166-1 alpha-2 country code"

    BusinessOwner:
      type: object
      description: "Business owner or associated person information"
      required:
        - first_name
        - last_name
        - email
      properties:
        first_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "Jane"
          description: "First name of the business owner"
        last_name:
          type: string
          minLength: 1
          maxLength: 50
          example: "Smith"
          description: "Last name of the business owner"
        email:
          type: string
          format: email
          example: "jane.smith@example.com"
          description: "Email address of the business owner"
        phone_number:
          type: string
          pattern: '^\+[1-9]\d{1,14}$'
          example: "+2348918945670"
          description: "Phone number with country code"
        date_of_birth:
          type: string
          format: date
          example: "1985-03-20"
          description: "Date of birth (must be 18+ years old)"
        relationship_establishment_date:
          type: string
          format: date
          example: "2020-01-15"
          description: "Date when relationship with business was established"
        ownership_percentage:
          type: number
          minimum: 0
          maximum: 100
          example: 25.5
          description: "Percentage ownership in the business (0-100)"
        is_control_person:
          type: boolean
          default: false
          description: "Whether this person has control over the business"
        is_signer:
          type: boolean
          default: false
          description: "Whether this person is an authorized signer"
        is_beneficial_owner:
          type: boolean
          default: false
          description: "Whether this person is a beneficial owner (typically 25%+ ownership)"
        title:
          type: string
          enum:
            - "Chief Executive Officer"
            - "Chief Financial Officer"
            - "Chief Technology Officer"
            - "Chief Operating Officer"
            - "President"
            - "Vice President"
            - "Director"
            - "Manager"
            - "Partner"
            - "Owner"
            - "Founder"
            - "Co-Founder"
            - "Board Member"
            - "Secretary"
            - "Treasurer"
            - "Other"
          example: "Chief Executive Officer"
          description: "Official title within the business"
        address:
          type: object
          description: "Business owner's address"
          required:
            - street1
            - city
            - state
            - postal_code
            - country
          properties:
            street1:
              type: string
              minLength: 1
              maxLength: 100
              example: "789 Owner Ave"
              description: "Primary address line"
            street2:
              type: string
              maxLength: 100
              example: "Apt 123"
              description: "Secondary address line (optional)"
            city:
              type: string
              minLength: 1
              maxLength: 50
              example: "TX"
              description: "City name"
            state:
              type: string
              minLength: 1
              maxLength: 50
              example: "LA"
              description: "State or province"
            postal_code:
              type: string
              minLength: 1
              maxLength: 20
              example: "214578"
              description: "Postal or ZIP code"
            country:
              type: string
              example: "US"
              description: "Country name"
        id_number:
          type: string
          example: "ID123456789"
          description: "PASSPORT  Number"
        nationality:
          type: string
          enum:
            - AF
            - AL
            - DZ
            - AD
            - AO
            - AG
            - AR
            - AM
            - AU
            - AT
            - AZ
            - BS
            - BH
            - BD
            - BB
            - BY
            - BE
            - BZ
            - BJ
            - BT
            - BO
            - BA
            - BW
            - BR
            - BN
            - BG
            - BF
            - BI
            - CV
            - KH
            - CM
            - CA
            - CF
            - TD
            - CL
            - CN
            - CO
            - KM
            - CG
            - CR
            - HR
            - CU
            - CY
            - CZ
            - CD
            - DK
            - DJ
            - DM
            - DO
            - EC
            - EG
            - SV
            - GQ
            - ER
            - EE
            - SZ
            - ET
            - FJ
            - FI
            - FR
            - GA
            - GM
            - GE
            - DE
            - GH
            - GR
            - GD
            - GT
            - GN
            - GW
            - GY
            - HT
            - HN
            - HU
            - IS
            - IN
            - ID
            - IR
            - IQ
            - IE
            - IL
            - IT
            - JM
            - JP
            - JO
            - KZ
            - KE
            - KI
            - KW
            - KG
            - LA
            - LV
            - LB
            - LS
            - LR
            - LY
            - LI
            - LT
            - LU
            - MG
            - MW
            - MY
            - MV
            - ML
            - MT
            - MH
            - MR
            - MU
            - MX
            - FM
            - MD
            - MC
            - MN
            - ME
            - MA
            - MZ
            - MM
            - NA
            - NR
            - NP
            - NL
            - NZ
            - NI
            - NE
            - NG
            - KP
            - MK
            - NO
            - OM
            - PK
            - PW
            - PS
            - PA
            - PG
            - PY
            - PE
            - PH
            - PL
            - PT
            - QA
            - RO
            - RU
            - RW
            - KN
            - LC
            - VC
            - WS
            - SM
            - ST
            - SA
            - SN
            - RS
            - SC
            - SL
            - SG
            - SK
            - SI
            - SB
            - SO
            - ZA
            - KR
            - SS
            - ES
            - LK
            - SD
            - SR
            - SE
            - CH
            - SY
            - TW
            - TJ
            - TZ
            - TH
            - TL
            - TG
            - TO
            - TT
            - TN
            - TR
            - TM
            - TV
            - UG
            - UA
            - AE
            - GB
            - US
            - UY
            - UZ
            - VU
            - VA
            - VE
            - VN
            - YE
            - ZM
            - ZW
          example: "NG"
          description: "ISO 3166-1 alpha-2 nationality code of the business owner"
        front_image:
          type: string
          format: uri
          example: "https://example.com/id-front.jpg"
          description: "URL to front image of ID document"

    UserDocument:
      type: object
      description: "Supporting document for KYC verification"
      required:
        - doc_type
        - doc_image
      properties:
        doc_type:
          type: string
          enum:
            - "OTHER"
            - "BUSINESS_FORMATION"
            - "PROOF_OF_NATURE_OF_BUSINESS"
            - "status_report"
            - "PROOF_OF_ADDRESS"
            - "REGULATORY_LICENSE_REGISTRATION"
            - "valid_ids"
            - "utility_bill"
            - "OWNERSHIP_INFORMATION"
            - "due_diligence_checklist"
            - "AML_POLICY"
            - "kyc_policy"
            - "data_protection"
            - "BANK_STATEMENT"
            - "OWNERSHIP_CHART"
            - "POWER_OF_ATTORNEY"
            - "PROOF_OF_ACCOUNT_PURPOSE"
            - "PROOF_OF_TAX_IDENTIFICATION"
          example: "valid_ids"
          description: "Type of document being submitted - supports both individual and business KYC requirements"
        sub_type:
          type: string
          enum:
            - "UTILITY_BILL"
            - "BANK_STATEMENT"
          example: "front"
          description: "Sub-type of document if applicable (e.g., front/back of ID)"
        doc_image:
          type: string
          format: byte
          example: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQ..."
          description: "Base64 encoded image data or URL to document image"
        doc_country:
          type: string
          enum:
            - AF
            - AL
            - DZ
            - AD
            - AO
            - AG
            - AR
            - AM
            - AU
            - AT
            - AZ
            - BS
            - BH
            - BD
            - BB
            - BY
            - BE
            - BZ
            - BJ
            - BT
            - BO
            - BA
            - BW
            - BR
            - BN
            - BG
            - BF
            - BI
            - CV
            - KH
            - CM
            - CA
            - CF
            - TD
            - CL
            - CN
            - CO
            - KM
            - CG
            - CR
            - HR
            - CU
            - CY
            - CZ
            - CD
            - DK
            - DJ
            - DM
            - DO
            - EC
            - EG
            - SV
            - GQ
            - ER
            - EE
            - SZ
            - ET
            - FJ
            - FI
            - FR
            - GA
            - GM
            - GE
            - DE
            - GH
            - GR
            - GD
            - GT
            - GN
            - GW
            - GY
            - HT
            - HN
            - HU
            - IS
            - IN
            - ID
            - IR
            - IQ
            - IE
            - IL
            - IT
            - JM
            - JP
            - JO
            - KZ
            - KE
            - KI
            - KW
            - KG
            - LA
            - LV
            - LB
            - LS
            - LR
            - LY
            - LI
            - LT
            - LU
            - MG
            - MW
            - MY
            - MV
            - ML
            - MT
            - MH
            - MR
            - MU
            - MX
            - FM
            - MD
            - MC
            - MN
            - ME
            - MA
            - MZ
            - MM
            - NA
            - NR
            - NP
            - NL
            - NZ
            - NI
            - NE
            - NG
            - KP
            - MK
            - NO
            - OM
            - PK
            - PW
            - PS
            - PA
            - PG
            - PY
            - PE
            - PH
            - PL
            - PT
            - QA
            - RO
            - RU
            - RW
            - KN
            - LC
            - VC
            - WS
            - SM
            - ST
            - SA
            - SN
            - RS
            - SC
            - SL
            - SG
            - SK
            - SI
            - SB
            - SO
            - ZA
            - KR
            - SS
            - ES
            - LK
            - SD
            - SR
            - SE
            - CH
            - SY
            - TW
            - TJ
            - TZ
            - TH
            - TL
            - TG
            - TO
            - TT
            - TN
            - TR
            - TM
            - TV
            - UG
            - UA
            - AE
            - GB
            - US
            - UY
            - UZ
            - VU
            - VA
            - VE
            - VN
            - YE
            - ZM
            - ZW
          example: "NG"
          description: "ISO 3166-1 alpha-2 country code where document was issued"

    BusinessCustomerResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        data:
          $ref: "#/components/schemas/BusinessCustomerData"

    IndividualCustomerResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        data:
          $ref: "#/components/schemas/IndividualCustomerData"

    BusinessCustomerData:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "e927caad-9576-40d8-b87d-ace687afa82a"
        customer_type:
          type: string
          example: "business"
        email:
          type: string
          example: "contact@example.com"
        phone:
          type: string
          example: "+2347918945668"
        created_at:
          type: string
          format: date-time
          example: "2025-05-09T16:33:21.902Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-05-09T16:33:21.902Z"
        status:
          type: string
          example: "active"
        address:
          $ref: "#/components/schemas/RegisteredAddress"
        financial_info:
          type: object
          properties:
            account_purpose:
              type: string
              example: "business operations"
            expected_monthly_income:
              type: string
              example: "5000000.00"
            source_of_funds:
              type: string
              example: "business revenue"
        business_info:
          type: object
          properties:
            business_name:
              type: string
              example: "Example Enterprises"
            business_type:
              type: string
              example: "Retail"
            business_website:
              type: string
              example: "https://example.com"

    IndividualCustomerData:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "11a3c37f-06bb-4e7c-9813-0e47d47e9e2d"
        customer_type:
          type: string
          example: "individual"
        email:
          type: string
          example: "olajohn3@gmail.com"
        phone:
          type: string
          example: "+2348918945668"
        created_at:
          type: string
          format: date-time
          example: "2025-05-09T16:33:57.844Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-05-09T16:33:57.844Z"
        status:
          type: string
          example: "active"
        address:
          $ref: "#/components/schemas/RegisteredAddress"
        personal_info:
          type: object
          properties:
            first_name:
              type: string
              example: "john"
            middle_name:
              type: string
              example: "Oluwaseun"
            last_name:
              type: string
              example: "ola"
            birth_date:
              type: string
              format: date-time
              example: "1990-01-14T23:00:00.000Z"
        financial_info:
          type: object
          properties:
            account_purpose:
              type: string
              example: "personal savings"
            employment_status:
              type: string
              example: "employed"
            expected_monthly_income:
              type: string
              example: "500000.00"
            most_recent_occupation:
              type: string
              example: "Software Engineer"
            source_of_funds:
              type: string
              example: "salary"

    # BANK COMPONENTS
    BasicBank:
      type: object
      properties:
        bank_code: { type: string }
        bank_name: { type: string }

    # SWAP COMPONENTS
    SwapRequest:
      type: object
      required:
        - from_currency
        - to_currency
        - amount
      properties:
        customer_id:
          type: string
          format: uuid
          nullable: true
          description: "Required for customer, omit for merchant"
          example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
        from_currency:
          type: string
          example: "USDT"
        to_currency:
          type: string
          example: "USDC"
        amount:
          type: string
          example: "20"

    MerchantSwapRequest:
      type: object
      required:
        - from_currency
        - to_currency
        - amount
      properties:
        from_currency:
          type: string
          example: "USDT"
        to_currency:
          type: string
          example: "USDC"
        amount:
          type: string
          example: "20"

    SwapResponse:
      type: object
      properties:
        status:
          type: string
          example: success
        data:
          type: object
          properties:
            status:
              type: string
              example: success
            message:
              type: string
              example: Successful
            data:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  example: "751935b6-4574-4837-90d6-5039d2c165dd"
                from_currency:
                  type: string
                  example: "USDT"
                to_currency:
                  type: string
                  example: "USDC"
                quoted_price:
                  type: string
                  example: "0.9802941274500001"
                quoted_currency:
                  type: string
                  example: "USDC"
                from_amount:
                  type: string
                  example: "20.0"
                to_amount:
                  type: string
                  example: "19.6"
                confirmed:
                  type: boolean
                  example: false
                expires_at:
                  type: string
                  format: date-time
                created_at:
                  type: string
                  format: date-time
                updated_at:
                  type: string
                  format: date-time
                user:
                  $ref: "#/components/schemas/UserInfo"

    UserInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
        sn:
          type: string
        email:
          type: string
        reference:
          type: string
          nullable: true
        first_name:
          type: string
        last_name:
          type: string
        display_name:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    RefreshRequest:
      type: object
      required:
        - from_currency
        - to_currency
        - from_amount
      properties:
        customer_id:
          type: string
          format: uuid
          nullable: true
          description: "Required for customer, omit for merchant"
          example: "85b148ab-3f6b-4d55-917f-3c8de668a48e"
        from_currency:
          type: string
          example: "USDT"
        to_currency:
          type: string
          example: "USDC"
        from_amount:
          type: string
          example: "20"

    MerchantRefreshRequest:
      type: object
      required:
        - from_currency
        - to_currency
        - from_amount
      properties:
        from_currency:
          type: string
          example: "USDT"
        to_currency:
          type: string
          example: "USDC"
        from_amount:
          type: string
          example: "20"

    # WITHDRAWAL COMPONENTS
    CustomerWalletWithdrawal:
      type: object
      required:
        - customer_id
        - currency
        - address
        - amount
        - network
      properties:
        customer_id:
          type: string
          format: uuid
        currency:
          type: string
          example: "USDC"
        address:
          type: string
          example: "0x53BC6d42fd6eE0efEeF4f9CAb789e264E8b895f3"
        amount:
          type: number
          example: 0.1
        network:
          type: string
          example: "bep20"
        recipient_name:
          type: string
          nullable: true
          example: "John Doe"

    MerchantWalletWithdrawal:
      type: object
      required:
        - currency
        - address
        - amount
        - network
      properties:
        currency:
          type: string
          example: "USDC"
        address:
          type: string
          example: "0x53BC6d42fd6eE0efEeF4f9CAb789e264E8b895f3"
        amount:
          type: number
          example: 0.1
        network:
          type: string
          example: "bep20"

    CustomerBankWithdrawal:
      type: object
      required:
        - customer_id
        - currency
        - account_number
        - bank_name
        - bank_code
        - amount
        - recipient_name
        - recipient_currency
        - recipient_country
      properties:
        customer_id:
          type: string
          format: uuid
        currency:
          type: string
          example: "USDT"
        account_number:
          type: string
          example: "1234567890"
        bank_name:
          type: string
          example: "United Bank for Africa"
        bank_code:
          type: string
          example: "000004"
        amount:
          type: string
          example: "100"
        recipient_name:
          type: string
          example: "John Doe"
        recipient_currency:
          type: string
          example: "NGN"
        recipient_country:
          type: string
          example: "Nigeria"

    MerchantBankWithdrawal:
      type: object
      required:
        - currency
        - account_number
        - bank_name
        - bank_code
        - amount
        - recipient_name
        - recipient_currency
        - recipient_country
      properties:
        currency:
          type: string
          example: "USDT"
        account_number:
          type: string
          example: "1234567890"
        bank_name:
          type: string
          example: "United Bank for Africa"
        bank_code:
          type: string
          example: "000004"
        amount:
          type: string
          example: "100"
        recipient_name:
          type: string
          example: "John Doe"
        recipient_currency:
          type: string
          example: "NGN"
        recipient_country:
          type: string
          example: "Nigeria"

    PayoutTransaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        sender_wallet_id:
          type: string
          format: uuid
          nullable: true
        receiver_wallet_id:
          type: string
          format: uuid
          nullable: true
        transaction_id:
          type: string
        asset_code:
          type: string
        amount:
          type: string
        reference_id:
          type: string
        status:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        crypto_transaction_id:
          type: string
          nullable: true
        network:
          type: string
          nullable: true
        transaction_type:
          type: string
        transaction_mode:
          type: string
        exchange_rate:
          type: string
          nullable: true
        withdrawal_recipient_name:
          type: string
          nullable: true
        fee:
          type: string
          nullable: true
        balance:
          type: string
        reason:
          type: string
          nullable: true
        customer_id:
          type: string
          format: uuid
          nullable: true
        recipient_currency:
          type: string
          nullable: true
        recipient_country:
          type: string
          nullable: true
        bank_name:
          type: string
          nullable: true
        bank_code:
          type: string
          nullable: true
        address:
          type: string
          nullable: true
        bank_account:
          type: string
          nullable: true

    ErrorResponse:
      type: object
      properties:
        status:
          type: string
          example: error
        message:
          type: string
          example: Error message
        code:
          type: string
          example: ERROR_CODE

    ValidationErrorResponse:
      type: object
      description: "Validation error response with detailed field errors"
      properties:
        status:
          type: string
          enum: ["error"]
          example: "error"
        message:
          type: string
          example: "Validation failed"
        code:
          type: string
          enum: 
            - "VALIDATION_ERROR"
            - "INVALID_INPUT"
            - "MISSING_REQUIRED_FIELD"
            - "INVALID_FORMAT"
            - "INVALID_ENUM_VALUE"
            - "AGE_RESTRICTION"
            - "PHONE_FORMAT_ERROR"
            - "EMAIL_FORMAT_ERROR"
          example: "VALIDATION_ERROR"
        errors:
          type: array
          description: "Array of specific field validation errors"
          items:
            type: object
            properties:
              field:
                type: string
                example: "email"
                description: "Field name that failed validation"
              message:
                type: string
                example: "Invalid email format"
                description: "Specific error message for the field"
              code:
                type: string
                example: "INVALID_EMAIL"
                description: "Error code for the specific validation failure"

    CustomerCreationErrorResponse:
      type: object
      description: "Customer creation specific error response"
      properties:
        status:
          type: string
          enum: ["error"]
          example: "error"
        message:
          type: string
          example: "Failed to create customer"
        code:
          type: string
          enum:
            - "CUSTOMER_CREATION_FAILED"
            - "DUPLICATE_EMAIL"
            - "DUPLICATE_PHONE"
            - "INVALID_CUSTOMER_TYPE"
            - "KYC_VERIFICATION_FAILED"
            - "DOCUMENT_UPLOAD_FAILED"
            - "BUSINESS_OWNER_VALIDATION_FAILED"
            - "ADDRESS_VALIDATION_FAILED"
            - "WALAPAY_INTEGRATION_ERROR"
            - "DATABASE_ERROR"
          example: "CUSTOMER_CREATION_FAILED"
        errors:
          type: array
          description: "Detailed error information"
          items:
            type: object
            properties:
              field:
                type: string
                example: "business_owners[0].email"
              message:
                type: string
                example: "Business owner email is required"
              code:
                type: string
                example: "MISSING_BUSINESS_OWNER_EMAIL"

    AuthenticationErrorResponse:
      type: object
      description: "Authentication and authorization error response"
      properties:
        status:
          type: string
          enum: ["error"]
          example: "error"
        message:
          type: string
          example: "Authentication failed"
        code:
          type: string
          enum:
            - "AUTHENTICATION_FAILED"
            - "INVALID_API_KEY"
            - "ACCESS_DENIED"
            - "TOKEN_EXPIRED"
            - "INSUFFICIENT_PERMISSIONS"
            - "RATE_LIMIT_EXCEEDED"
          example: "AUTHENTICATION_FAILED"

    ServerErrorResponse:
      type: object
      description: "Server error response"
      properties:
        status:
          type: string
          enum: ["error"]
          example: "error"
        message:
          type: string
          example: "Internal server error"
        code:
          type: string
          enum:
            - "INTERNAL_SERVER_ERROR"
            - "SERVICE_UNAVAILABLE"
            - "DATABASE_CONNECTION_ERROR"
            - "EXTERNAL_SERVICE_ERROR"
            - "TIMEOUT_ERROR"
          example: "INTERNAL_SERVER_ERROR"
        details:
          type: string
          example: "An unexpected error occurred while processing your request"
          description: "Additional error details (optional)"

    FieldValidationError:
      type: object
      description: "Individual field validation error"
      required:
        - field
        - message
        - code
      properties:
        field:
          type: string
          example: "birth_date"
          description: "Name of the field that failed validation"
        message:
          type: string
          example: "Customer must be at least 18 years old"
          description: "Human-readable error message"
        code:
          type: string
          enum:
            - "REQUIRED_FIELD_MISSING"
            - "INVALID_FORMAT"
            - "INVALID_LENGTH"
            - "INVALID_RANGE"
            - "INVALID_ENUM_VALUE"
            - "DUPLICATE_VALUE"
            - "AGE_REQUIREMENT_NOT_MET"
            - "INVALID_PHONE_NUMBER"
            - "INVALID_EMAIL_ADDRESS"
            - "INVALID_DATE_FORMAT"
            - "FUTURE_DATE_NOT_ALLOWED"
            - "INVALID_PERCENTAGE"
            - "INVALID_AMOUNT"
            - "INVALID_COUNTRY_CODE"
            - "UNSUPPORTED_DOCUMENT_TYPE"
            - "INVALID_BASE64_IMAGE"
          example: "AGE_REQUIREMENT_NOT_MET"
          description: "Specific validation error code"
